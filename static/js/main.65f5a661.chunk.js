(this["webpackJsonpcareer-path"]=this["webpackJsonpcareer-path"]||[]).push([[0],{220:function(e,n){},242:function(e,n,t){},261:function(e,n,t){},383:function(e,n){},384:function(e,n){},385:function(e,n){},386:function(e,n){},387:function(e,n){},388:function(e,n,t){"use strict";t.r(n);var i=t(0),a=t.n(i),r=t(35),l=t.n(r),s=t(232),c=t(394),o=(t(242),t(70)),u=t(39),d=t(33),p=t(63),j=t(399),b=t(398),f=t(226),m=t(402),g=t(392),h=t(393),x=t(92),k=t.n(x),O="https://cyberability-platform.informacni-bezpecnost.cz/data/",y="career-path",S={server:{getData:O+y+"/getData.php",pdfjsWorker:O+y+"/pdf.worker.min.js",analyzeCourseDescription:O+"csprofiler/analyzeCourseDescription.php",analyzeUrl:O+y+"/analyzeUrl.php",suggestTrainings:O+y+"/suggestTrainings.php"}},v=(t(261),t(401)),w=t(231),C=t(138),T=[1,3,4,5,8,11,12,13,14,15,16,20,24,29,30],N=[6,7,10,17,18,25,27],G=[2,9,19,21,22,23,26,28,31],I=t(5),F=function(e){var n=e.form,t=e.showMessage,a=e.editRecord,r=e.onCancel,l=e.onModalSubmit,s=e.rsSkillsGroup,c=e.analyzing,o=e.setAnalyzing,u=Object(i.useState)(!1),j=Object(d.a)(u,2),m=j[0],g=j[1];return Object(i.useEffect)((function(){if("object"===typeof a&&null!==a&&n.getFieldValue("id")!==a.id){var e=JSON.parse(JSON.stringify(a));e.itSkillsGroup=e.skillsGroup.filter((function(e){return N.includes(e)})),e.csSkillsGroup=e.skillsGroup.filter((function(e){return T.includes(e)})),e.sfSkillsGroup=e.skillsGroup.filter((function(e){return G.includes(e)})),delete e.skillsGroup,delete e.enabled,n.setFieldsValue(e),g(!1)}else"new"===a&&g(!0)}),[a,n]),Object(I.jsx)(v.a,{getContainer:!1,centered:!0,open:null!==a,title:m?"Add a new skill":"Edit skill",width:850,okText:"Save",cancelText:"Cancel",onCancel:function(){c&&(t({type:"loading",content:"Analyzing Description...",key:"updatable",duration:.2}),t({type:"warning",content:"Analysis stopped."}),o(!1)),n.resetFields(),r()},className:m?"add-skill-modal":"edit-skill-modal",onOk:function(){n.validateFields().then((function(e){c?t({type:"error",content:"Please wait for the analysis to finish."}):(e.skillsGroup=e.itSkillsGroup.concat(e.csSkillsGroup,e.sfSkillsGroup),delete e.itSkillsGroup,delete e.csSkillsGroup,delete e.sfSkillsGroup,l(JSON.parse(JSON.stringify(e)),m),n.resetFields())}))},okButtonProps:{disabled:c},cancelButtonProps:{disabled:c},children:Object(I.jsxs)(b.a,{preserve:!0,form:n,layout:"horizontal",name:m?"add-skill-modal-form":"edit-skill-modal-form",labelCol:{span:7},wrapperCol:{span:15},labelWrap:!0,colon:!1,className:"content-scroll",initialValues:{name:"My Skill",skillType:"manual",itSkillsGroup:[],csSkillsGroup:[],sfSkillsGroup:[]},children:[Object(I.jsx)(b.a.Item,{name:"name",label:"Title",rules:[{required:!0,message:"Please enter the title"},{type:"string",min:2,max:1023}],children:Object(I.jsx)(w.a,{})}),Object(I.jsx)(b.a.Item,{name:"itSkillsGroup",label:"IT Skills",hidden:c,children:Object(I.jsx)(C.a,{showSearch:!0,showArrow:!0,disabled:c,allowClear:!0,mode:"multiple",optionFilterProp:"label",options:s.sort((function(e,n){return e.name>n.name?1:n.name>e.name?-1:0})).filter((function(e){return N.includes(e.id)})).map((function(e){return{value:e.id,label:e.name}}))})}),Object(I.jsx)(b.a.Item,{name:"csSkillsGroup",label:"CS Skills",hidden:c,children:Object(I.jsx)(C.a,{showSearch:!0,showArrow:!0,disabled:c,allowClear:!0,mode:"multiple",optionFilterProp:"label",options:s.sort((function(e,n){return e.name>n.name?1:n.name>e.name?-1:0})).filter((function(e){return T.includes(e.id)})).map((function(e){return{value:e.id,label:e.name}}))})}),Object(I.jsx)(b.a.Item,{name:"sfSkillsGroup",label:"Soft Skills",hidden:c,children:Object(I.jsx)(C.a,{showSearch:!0,showArrow:!0,allowClear:!0,disabled:c,mode:"multiple",optionFilterProp:"label",options:s.sort((function(e,n){return e.name>n.name?1:n.name>e.name?-1:0})).filter((function(e){return G.includes(e.id)})).map((function(e){return{value:e.id,label:e.name}}))})}),Object(I.jsx)(b.a.Item,{name:"skillType",label:"skillType",hidden:!0,children:Object(I.jsx)(w.a,{})}),Object(I.jsx)(b.a.Item,{name:"analysisSource",label:"analysisSource",hidden:!0,children:Object(I.jsx)(w.a,{})}),Object(I.jsx)(b.a.Item,{name:"id",label:"Id",hidden:!0,children:Object(I.jsx)(w.a,{})}),c&&Object(I.jsx)("div",{className:"loading-icon-container",children:Object(I.jsx)(f.a,{tip:"Analysis in progress...",indicator:Object(I.jsx)(p.a,{style:{fontSize:24},spin:!0})})})]})})},z=t(403),M=t(53),A=t(395),_=j.a.Title,P=function(e){var n=e.skills,t=e.rsProfiles,i=e.rsSkillsGroup,a=e.onTrainingsSearchClick,r=[{title:"Profile",dataIndex:"name",key:"name"},{title:"Coverage",dataIndex:"coverage",key:"coverage",align:"right",width:"90px",render:function(e,n){return Object(I.jsx)(z.a,{placement:"leftBottom",arrowPointAtCenter:!0,content:Object(I.jsxs)("div",{className:"skills-popover",children:[Object(I.jsx)(_,{level:5,children:"Included Skills"}),Object(I.jsx)("ul",{children:n.included.length?n.included.map((function(e,n){return Object(I.jsxs)("li",{children:[e.name,Object(I.jsx)("br",{})]},n)})):Object(I.jsx)("span",{className:"empty",children:"none"})}),Object(I.jsx)(_,{level:5,children:"Missing Skills"}),Object(I.jsx)("ul",{children:n.missing.length?n.missing.map((function(e,n){return Object(I.jsxs)("li",{children:[e.name,Object(I.jsx)("br",{})]},n)})):Object(I.jsx)("span",{className:"empty",children:"none"})}),Object(I.jsx)(M.a,{onClick:function(e){return a(e,n.missing.map((function(e){return e.id})))},children:"Find Trainings"})]}),children:Object(I.jsx)("span",{children:Object(I.jsx)(M.a,{type:"link",children:(t=e,t>67?"High":t>33?"Medium":t>=0?"Low":"Error")})})});var t}}],l=function(){var e=[];return n.forEach((function(n){n.skillsGroup.forEach((function(n){e=e.concat(n)}))})),Object(u.a)(new Set(e)).sort((function(e,n){return e-n}))};return Object(I.jsx)("div",{className:"statistics",children:Object(I.jsx)("div",{className:"content",children:n.length>-1?Object(I.jsx)("div",{className:"content-scroll",children:Object(I.jsx)(A.a,{size:"small",pagination:!1,columns:r,dataSource:t.map((function(e){var n=[],t=[],a=l();return e.skills_group.forEach((function(e){a.includes(e)?n.push(i.find((function(n){return n.id===e}))):t.push(i.find((function(n){return n.id===e})))})),{coverage:parseInt((n.length/e.skills_group.length*100).toFixed(0)),name:e.name,profileId:e.id,included:n,missing:t}})),rowKey:"profileId"})}):Object(I.jsx)("div",{className:"empty-data",children:Object(I.jsx)("font",{className:"header",children:"There are no courses yet."})})})})},E=t(100),L=t(400),D=t(119),U=function(e){var n,t,i=e.form,a=e.rsSkillsGroup,r=e.onChange,l=e.initialValues,s=e.filters;return Object(I.jsxs)(b.a,{onValuesChange:function(e,n){return r(n)},size:"small",preserve:!0,form:i,layout:"horizontal",name:"trainings-filter-form",labelCol:{span:7},wrapperCol:{span:15},labelWrap:!0,colon:!1,className:"content-scroll",initialValues:l,children:[Object(I.jsx)(b.a.Item,{name:"countries",label:"Countries",children:Object(I.jsx)(C.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",options:s.countries})}),Object(I.jsx)(b.a.Item,{name:"languages",label:"Languages",children:Object(I.jsx)(C.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",options:s.languages})}),Object(I.jsx)(b.a.Item,{name:"organizers",label:"Organizers",children:Object(I.jsx)(C.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",options:s.organizers})}),Object(I.jsx)(b.a.Item,{name:"typeFormats",label:"Types/Formats",children:Object(I.jsx)(C.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",options:s.typeFormats})}),Object(I.jsx)(b.a.Item,{name:"contentTypes",label:"Content Types",children:Object(I.jsx)(C.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",options:s.contentTypes})}),Object(I.jsx)(b.a.Item,{name:"canLeadToCertifications",label:"Can lead to certifications",children:Object(I.jsx)(C.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",options:s.canLeadToCertifications})}),Object(I.jsx)(b.a.Item,{name:"includesExamsForCertifications",label:"Includes exams for certifications",children:Object(I.jsx)(C.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",options:s.includesExamsForCertifications})}),Object(I.jsx)(b.a.Item,{name:"itSkillsGroup",label:"IT Skills",children:Object(I.jsx)(C.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",optionFilterProp:"label",options:a.sort((function(e,n){return e.name>n.name?1:n.name>e.name?-1:0})).filter((function(e){return N.includes(e.id)})).map((function(e){return{value:e.id,label:e.name}}))})}),Object(I.jsx)(b.a.Item,{name:"csSkillsGroup",label:"CS Skills",children:Object(I.jsx)(C.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",optionFilterProp:"label",options:a.sort((function(e,n){return e.name>n.name?1:n.name>e.name?-1:0})).filter((function(e){return T.includes(e.id)})).map((function(e){return{value:e.id,label:e.name}}))})}),Object(I.jsx)(b.a.Item,{name:"sfSkillsGroup",label:"Soft Skills",children:Object(I.jsx)(C.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",optionFilterProp:"label",options:a.sort((function(e,n){return e.name>n.name?1:n.name>e.name?-1:0})).filter((function(e){return G.includes(e.id)})).map((function(e){return{value:e.id,label:e.name}}))})}),Object(I.jsx)(b.a.Item,{name:"trainingFocus",label:"Training Focus",children:Object(I.jsx)(C.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",optionFilterProp:"label",options:[{value:"IT",label:"IT"},{value:"CS",label:"Cybersecurity"},{value:"Soft",label:"Soft Skills"}]})}),Object(I.jsx)(b.a.Item,{name:"price",label:"Price",children:Object(I.jsx)(L.a,{range:!0,tooltip:{formatter:function(e){return"".concat(e," \u20ac")}},marks:(n={},Object(E.a)(n,s.priceMin,{style:{left:0,right:"unset",transform:"unset"},label:"".concat(s.priceMin," \u20ac")}),Object(E.a)(n,s.priceMax,{style:{right:0,left:"unset",transform:"unset"},label:"".concat(s.priceMax," \u20ac")}),n),min:s.priceMin,max:s.priceMax})}),Object(I.jsx)(b.a.Item,{name:"duration",label:"Duration",children:Object(I.jsx)(L.a,{range:!0,tooltip:{formatter:function(e){return"".concat(e," h")}},marks:(t={},Object(E.a)(t,s.durationMin,{style:{left:0,right:"unset",transform:"unset"},label:"".concat(s.durationMin," h")}),Object(E.a)(t,s.durationMax,{style:{right:0,left:"unset",transform:"unset"},label:"".concat(s.durationMax," h")}),t),min:s.durationMin,max:s.durationMax})}),Object(I.jsx)(b.a.Item,{valuePropName:"checked",name:"showPicked",label:"Show picked trainings",children:Object(I.jsx)(D.a,{})}),Object(I.jsx)(b.a.Item,{valuePropName:"checked",name:"showOutdated",label:"Show outdated trainings",children:Object(I.jsx)(D.a,{})}),Object(I.jsx)(b.a.Item,{valuePropName:"checked",name:"disableSuggestions",label:"Disable suggestions",children:Object(I.jsx)(D.a,{})}),Object(I.jsx)(b.a.Item,{label:"Max suggestions",name:"maxSuggestions",shouldUpdate:function(e,n){return e.disableSuggestions!==n.disableSuggestions},children:Object(I.jsx)(L.a,{disabled:i.getFieldValue("disableSuggestions"),tooltip:{formatter:function(e){return"".concat(e)}},marks:{1:{style:{left:0,right:"unset",transform:"unset"},label:"".concat(1)},5:{style:{right:0,left:"unset",transform:"unset"},label:"".concat(5)}},min:1,max:5})}),Object(I.jsx)(b.a.Item,{name:"maxTrainingsPerSuggestion",label:"Max trainings per suggestion",shouldUpdate:function(e,n){return e.disableSuggestions!==n.disableSuggestions},children:Object(I.jsx)(L.a,{disabled:i.getFieldValue("disableSuggestions"),tooltip:{formatter:function(e){return"".concat(e)}},marks:{1:{style:{left:0,right:"unset",transform:"unset"},label:"".concat(1)},10:{style:{right:0,left:"unset",transform:"unset"},label:"".concat(10)}},min:1,max:10})}),Object(I.jsx)(b.a.Item,{name:"id",label:"Id",hidden:!0,children:Object(I.jsx)(w.a,{})})]})},R=t(179),V=t(391),B=t(397),W=t(51),J=t(404),q=t(82),Y=t(195),H=t.n(Y),K=function(e){if("Available online"===e.timing||"On demand"===e.timing)return!1;var n=H()();return e.dates.every((function(e){return H()(e,"YYYY-MM-DD").isBefore(n,"date")}))},X=function(e,n,t){var i=[].concat(Object(u.a)(t.itSkillsGroup),Object(u.a)(t.csSkillsGroup),Object(u.a)(t.sfSkillsGroup));return e.filter((function(e){return!(!t.showOutdated&&K(e))&&(!(!t.showPicked&&-1!==n.findIndex((function(n){return"training"===n.skillType&&n.trainingId===e.id})))&&(!(t.countries.length&&!t.countries.includes(e.country))&&(!(t.languages.length&&!e.language.some((function(e){return t.languages.includes(e)})))&&(!(t.organizers.length&&!t.organizers.includes(e.organizer))&&(!(t.typeFormats.length&&!t.typeFormats.includes(e.type_format))&&(!(t.contentTypes.length&&!t.contentTypes.includes(e.content_type))&&(!(t.canLeadToCertifications.length&&!t.canLeadToCertifications.includes(e.can_lead_to_certification))&&(!(t.includesExamsForCertifications.length&&!t.includesExamsForCertifications.includes(e.includes_exams_for_certification))&&(!(t.trainingFocus.length&&!function(e){var n=0,t=0,i=0;e.skills_group.forEach((function(e){n+=N.includes(e)?1:0,t+=G.includes(e)?1:0,i+=T.includes(e)?1:0}));var a=[];return n>=t&&n>=i&&a.push("IT"),t>=n&&t>=i&&a.push("Soft"),i>=t&&i>=n&&a.push("CS"),a}(e).some((function(e){return t.trainingFocus.includes(e)})))&&(Number(e.price)>=t.price[0]&&Number(e.price)<=t.price[1]&&(Number(e.duration)>=t.duration[0]&&Number(e.duration)<=t.duration[1]&&!(i.length&&!e.skills_group.some((function(e){return i.includes(e)}))))))))))))))}))},Q=function(e){var n=e.training,t=[{label:"Organizer",value:n.organizer},{label:"Country",value:n.country},{label:"Duration",value:n.duration+" hours"},{label:"Timing",value:n.timing},{label:"Type/Format",value:n.type_format},{label:"Price",value:n.price+" \u20ac"},{label:"Can lead to certification",value:n.can_lead_to_certification},{label:"Includes exams for certification",value:n.includes_exams_for_certification},{label:"Content type",value:n.content_type},{label:"Language",value:n.language.join(", ")},{label:"Dates",value:n.dates.join(", ")}];return Object(I.jsx)(A.a,{showHeader:!1,size:"small",pagination:!1,columns:[{title:"Label",dataIndex:"label",key:"label"},{title:"Value",dataIndex:"value"}],dataSource:t,rowKey:"label"})},Z=Object(V.a)((function(e){var n=e.filter,t=e.filteredTrainings,i=e.setSuggestedTrainings,a=e.setSuggestionsLoading,r=e.showMessage;if(t.length){var l=[].concat(Object(u.a)(n.sfSkillsGroup),Object(u.a)(n.csSkillsGroup),Object(u.a)(n.itSkillsGroup));l.length?k.a.post(S.server.suggestTrainings,{price:n.price,duration:n.duration,weight:7,selectedSkills:l,requiredNumOfResults:n.maxSuggestions,maxTrainings:n.maxTrainingsPerSuggestion,filteredTrainings:t.map((function(e){return e.id}))},{headers:{"Content-Type":"application/json"}}).then((function(e){e.data.data?i(e.data.data):(i([]),r({type:"error",content:"Something went wrong!"}))})).catch((function(e){r({type:"error",content:"Something went wrong!"})})).finally((function(){a(!1)})):(i([]),a(!1))}else i([]),a(!1)}),500),$=function(e){var n=e.training;return Object(I.jsx)(z.a,{placement:"leftBottom",arrowPointAtCenter:!0,content:Object(I.jsxs)("div",{className:"training-additional-info",children:[Object(I.jsx)("div",{className:"training-description",children:Object(I.jsx)(j.a.Text,{children:n.description})}),Object(I.jsx)("div",{className:"training-data-content",children:Object(I.jsx)(Q,{training:n})}),Object(I.jsx)("div",{className:"training-data-link",children:Object(I.jsx)(M.a,{type:"link",href:n.link,children:"Website"})})]}),children:Object(I.jsx)(M.a,{type:"text",className:"training-info-icon",icon:Object(I.jsx)(R.a,{}),size:"small"})})},ee=function(e){var n=e.trainings,t=e.filter,a=e.showMessage,r=e.rsSkillsGroup,l=e.checkedTrainings,s=e.onCheckTraining,c=e.skills,o=Object(i.useState)([]),p=Object(d.a)(o,2),b=p[0],m=p[1],g=Object(i.useState)(!1),h=Object(d.a)(g,2),x=h[0],k=h[1],O=Object(i.useMemo)((function(){return X(n,c,t)}),[n,c,t]);Object(i.useEffect)((function(){var e=t.sfSkillsGroup.length+t.csSkillsGroup.length+t.itSkillsGroup.length!==0;return t.disableSuggestions||!e?(Z.clear(),k(!1),function(){k(!1),m([])}):(k(!0),Z({filter:t,filteredTrainings:O,setSuggestedTrainings:m,showMessage:a,setSuggestionsLoading:k}),function(){k(!1),m([])})}),[t,O,a]);var y=Object(i.useMemo)((function(){var e=[].concat(Object(u.a)(t.sfSkillsGroup),Object(u.a)(t.csSkillsGroup),Object(u.a)(t.itSkillsGroup));return function(e,n){var t=new Map;return n.forEach((function(e,n){e.forEach((function(e){t.has(e)||t.set(e,n)}))})),Object(u.a)(e).sort((function(e,n){return(t.has(e.id)?t.get(e.id):1/0)-(t.has(n.id)?t.get(n.id):1/0)}))}(O,b).map((function(n){return{training:n,searchedSkillGroup:n.skills_group.filter((function(n){return e.includes(n)||0===e.length})),otherSkillGroup:n.skills_group.filter((function(n){return!e.includes(n)&&0!==e.length})),suggestedIn:b.reduce((function(e,t,i){return t.includes(n.id)&&e.push(i+1),e}),[])}}))}),[O,b,t]),S=function(e){return-1!==c.findIndex((function(n){return"training"===n.skillType&&n.trainingId===e.id}))};return Object(I.jsx)("div",{className:"trainings-list content-scroll",children:y.length?y.map((function(e){var n=e.searchedSkillGroup,i=e.otherSkillGroup,a=e.training,c=e.suggestedIn;return Object(I.jsxs)(B.a,{size:"small",title:Object(I.jsxs)("div",{className:"trainings-list-item-title-container",children:[Object(I.jsx)(W.a,{title:l.some((function(e){return e.id===a.id}))?"Remove skill":S(a)?"Skill is already picked":"Add skill",children:Object(I.jsx)(D.a,{className:"trainings-list-item-checkbox",size:"large",checked:l.some((function(e){return e.id===a.id}))||S(a),disabled:S(a),onChange:function(){return s(a)}})}),Object(I.jsx)(j.a.Title,{level:5,children:a.name})]}),extra:Object(I.jsx)("div",{children:Object(I.jsx)($,{training:a})}),children:[Object(I.jsxs)("ul",{children:[n.map((function(e){return Object(I.jsx)("li",{children:r.find((function(n){return n.id===e})).name},"searched-skill-group".concat(e))})),i.map((function(e){return Object(I.jsx)("li",{className:"other-skill-group",children:r.find((function(n){return n.id===e})).name},"other-skill-group".concat(e))}))]}),t.showOutdated&&K(a)&&Object(I.jsx)(J.a,{color:"orange",children:"Outdated"}),c.map((function(e){var n="cyan";return 2===e&&(n="blue"),3===e&&(n="geekblue"),4===e&&(n="magenta"),5===e&&(n="purple"),Object(I.jsx)(J.a,{color:n,children:"Suggestion ".concat(e)},e)})),x&&Object(I.jsx)(f.a,{size:"small"})]},a.id)})):Object(I.jsx)(q.a,{description:"No trainings found"})})},ne=function(e){var n=e.rsSkillsGroup,t=e.trainings,a=e.open,r=e.initialSkillsGroup,l=void 0===r?[]:r,s=e.onClose,c=e.showMessage,p=e.onTrainingsPick,j=e.skills,f=Object(i.useMemo)((function(){return function(e){var n=e.reduce((function(e,n){e.countries.includes(n.country)||e.countries.push(n.country),n.language.forEach((function(n){e.languages.includes(n)||e.languages.push(n)})),e.typeFormats.includes(n.type_format)||e.typeFormats.push(n.type_format),e.organizers.includes(n.organizer)||e.organizers.push(n.organizer),e.canLeadToCertifications.includes(n.can_lead_to_certification)||e.canLeadToCertifications.push(n.can_lead_to_certification),e.includesExamsForCertifications.includes(n.includes_exams_for_certification)||e.includesExamsForCertifications.push(n.includes_exams_for_certification),e.contentTypes.includes(n.content_type)||e.contentTypes.push(n.content_type);var t=Number(n.duration);(null===e.durationMin||e.durationMin>t)&&(e.durationMin=t),(null===e.durationMax||e.durationMax<t)&&(e.durationMax=t);var i=Number(n.price);return(null===e.priceMin||e.priceMin>i)&&(e.priceMin=i),(null===e.priceMax||e.priceMax<i)&&(e.priceMax=i),e}),{countries:[],languages:[],typeFormats:[],organizers:[],canLeadToCertifications:[],includesExamsForCertifications:[],contentTypes:[],durationMin:null,durationMax:null,priceMax:null,priceMin:null}),t=function(e){return{value:e,label:e||"Unknown"}},i=function(e,n){return e.label.localeCompare(n.label)};return n.countries=n.countries.map(t).sort(i),n.languages=n.languages.map(t).sort(i),n.typeFormats=n.typeFormats.map(t).sort(i),n.organizers=n.organizers.map(t).sort(i),n.canLeadToCertifications=n.canLeadToCertifications.map(t).sort(i),n.includesExamsForCertifications=n.includesExamsForCertifications.map(t).sort(i),n.contentTypes=n.contentTypes.map(t).sort(i),n}(t)}),[t]),m=Object(i.useState)((function(){return{countries:[],languages:[],typeFormats:[],organizers:[],canLeadToCertifications:[],includesExamsForCertifications:[],contentTypes:[],duration:[f.durationMin,f.durationMax],price:[f.priceMin,f.priceMax],itSkillsGroup:(null!==l&&void 0!==l?l:[]).filter((function(e){return N.includes(e)})),csSkillsGroup:(null!==l&&void 0!==l?l:[]).filter((function(e){return T.includes(e)})),sfSkillsGroup:(null!==l&&void 0!==l?l:[]).filter((function(e){return G.includes(e)})),showOutdated:!1,showPicked:!1,trainingFocus:[],disableSuggestions:!1,maxSuggestions:1,maxTrainingsPerSuggestion:6}})),g=Object(d.a)(m,2),h=g[0],x=g[1],k=b.a.useForm(),O=Object(d.a)(k,1)[0],y=Object(i.useState)([]),S=Object(d.a)(y,2),w=S[0],C=S[1];return Object(i.useEffect)((function(){if("number"===typeof(null===l||void 0===l?void 0:l.length)){var e={itSkillsGroup:l.filter((function(e){return N.includes(e)})),csSkillsGroup:l.filter((function(e){return T.includes(e)})),sfSkillsGroup:l.filter((function(e){return G.includes(e)}))};x((function(n){return Object(o.a)(Object(o.a)({},n),e)})),O.setFieldsValue(e)}C([])}),[l,O]),Object(I.jsx)(v.a,{getContainer:!1,centered:!0,open:a,title:"Trainings Browser",width:950,cancelText:"Close",okButtonProps:{disabled:0===w.length},className:"trainings-browser-modal",onCancel:function(){O.resetFields(),C([]),s()},okText:"Pick",onOk:function(){p&&p(w),C([]),s()},children:Object(I.jsxs)("div",{className:"trainings-browser",children:[Object(I.jsx)("div",{className:"trainings-browser-filter",children:Object(I.jsx)(U,{form:O,rsSkillsGroup:n,onChange:x,filters:f,initialValues:h})}),Object(I.jsx)("div",{className:"trainings-browser-list",children:Object(I.jsx)(ee,{skills:j,onCheckTraining:function(e){return C((function(n){return-1!==n.findIndex((function(n){return n.id===e.id}))?n.filter((function(n){return n.id!==e.id})):[].concat(Object(u.a)(n),[e])}))},checkedTrainings:w,showMessage:c,filter:h,form:O,rsSkillsGroup:n,trainings:t})})]})})},te=0,ie=0,ae=function(e){return"number"===typeof e?"tr_".concat(e):"sk_".concat(ie+=1)},re=t(81),le=t.n(re),se=t(134),ce=function(e){var n=e.open,t=e.onCancel,i=e.onDescriptionSubmit,a=b.a.useForm(),r=Object(d.a)(a,1)[0];return Object(I.jsx)(v.a,{getContainer:!1,centered:!0,open:n,title:"Analyze Description",width:850,okText:"Analyze",cancelText:"Cancel",onCancel:function(){r.resetFields(),t()},onOk:function(){r.validateFields().then((function(e){i(e.description),r.resetFields()})).catch((function(){}))},children:Object(I.jsx)(b.a,{preserve:!0,form:r,layout:"horizontal",wrapperCol:{span:24},labelWrap:!0,colon:!1,className:"content-scroll",children:Object(I.jsx)(b.a.Item,{name:"description",rules:[{required:!0,message:"Please enter the description"},{type:"string",min:4}],children:Object(I.jsx)(w.a.TextArea,{placeholder:"Enter Skill description here",rows:6})})})})},oe=t(175),ue=t(405),de=t(406),pe=t(407),je=t(408),be=t(117),fe=t(234),me=t(196),ge=function(e){return e?e.startsWith("http")?e:"https://".concat(e.replace(/^https?:\/\//,"")):e},he=function(e){var n=e.open,t=e.onCancel,i=e.onUrlSubmit,a=b.a.useForm(),r=Object(d.a)(a,1)[0];return Object(I.jsx)(v.a,{getContainer:!1,centered:!0,open:n,title:"Analyze URL",width:850,okText:"Analyze",cancelText:"Cancel",onCancel:function(){r.resetFields(),t()},onOk:function(){r.validateFields().then((function(e){i(ge(e.url)),r.resetFields()}))},children:Object(I.jsx)(b.a,{preserve:!0,form:r,layout:"horizontal",wrapperCol:{span:24},labelWrap:!0,colon:!1,className:"content-scroll",children:Object(I.jsx)(b.a.Item,{name:"url",rules:[{required:!0,message:"Please enter the URL"},{validator:function(e,n){return!n||function(e){try{var n=new URL(ge(e));return"https:"===n.protocol&&"https:"===n.protocol&&n.hostname.includes(".")}catch(t){return!1}}(n)?Promise.resolve():Promise.reject(new Error("Please enter a valid URL"))}}],children:Object(I.jsx)(w.a,{placeholder:"Enter URL here"})})})})};function xe(e){return ke.apply(this,arguments)}function ke(){return(ke=Object(se.a)(le.a.mark((function e(n){var t,i,a,r,l,s;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.arrayBuffer();case 2:return t=e.sent,e.next=5,me.getDocument({data:t}).promise;case 5:i=e.sent,a="",r=1;case 8:if(!(r<=i.numPages)){e.next=19;break}return e.next=11,i.getPage(r);case 11:return l=e.sent,e.next=14,l.getTextContent();case 14:s=e.sent,a+=s.items.map((function(e){return e.str})).join(" ");case 16:r++,e.next=8;break;case 19:return e.abrupt("return",a);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}me.GlobalWorkerOptions.workerSrc=S.server.pdfjsWorker;var Oe=[{icon:Object(I.jsx)(ue.a,{}),key:"manual",label:"Create Manually"},{icon:Object(I.jsx)(de.a,{}),key:"description",label:"Analyze Description"},{icon:Object(I.jsx)(pe.a,{}),key:"pdf",label:"Analyze PDF"},{icon:Object(I.jsx)(je.a,{}),key:"url",label:"Analyze URL"},{icon:Object(I.jsx)(be.a,{}),key:"pick",label:"Pick Trainings"}],ye=function(e){var n=e.showMessage,t=e.onAnalyzingStart,r=e.openAddForm,l=e.form,s=e.analyzing,c=e.onPickTrainings,o=e.onAnalyzingEnd,u=Object(i.useState)(null),p=Object(d.a)(u,2),j=p[0],b=p[1],f=a.a.useRef(s),m=Object(i.useRef)(null);a.a.useEffect((function(){f.current=s}),[s]);var g=function(){var e=Object(se.a)(le.a.mark((function e(i,a){var s,c,u,d,p,j,m,g;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=a.file,c=a.text,u=a.url,n({type:"loading",content:"Analyzing ".concat(d="pdf"===i?"PDF file":"url"===i?"URL":"description"===i?"Description":"Unknown Type","..."),key:"updatable",duration:5}),t(),b(null),r(),l.setFieldValue("name","My Skill (".concat(d," Analysis)")),e.prev=7,e.t0=i,e.next="pdf"===e.t0?11:"description"===e.t0?18:"url"===e.t0?22:26;break;case 11:return e.next=13,xe(s);case 13:return p=e.sent,e.next=16,k.a.post(S.server.analyzeCourseDescription,{description:p},{headers:{"Content-Type":"application/json"}});case 16:return j=e.sent,e.abrupt("break",27);case 18:return e.next=20,k.a.post(S.server.analyzeCourseDescription,{description:c},{headers:{"Content-Type":"application/json"}});case 20:return j=e.sent,e.abrupt("break",27);case 22:return e.next=24,k.a.post(S.server.analyzeUrl,{url:u},{headers:{"Content-Type":"application/json"}});case 24:return j=e.sent,e.abrupt("break",27);case 26:j={data:{error:!0}};case 27:if(f.current){e.next=29;break}return e.abrupt("return");case 29:n({type:"loading",content:"Analyzing ".concat(d,"..."),key:"updatable",duration:.2}),j&&!1===j.data.error?(l.setFieldValue("id",ae()),l.setFieldValue("itSkillsGroup",j.data.data.prediction.skills_groups.filter((function(e){return N.includes(e)}))),l.setFieldValue("csSkillsGroup",j.data.data.prediction.skills_groups.filter((function(e){return T.includes(e)}))),l.setFieldValue("sfSkillsGroup",j.data.data.prediction.skills_groups.filter((function(e){return G.includes(e)}))),l.setFieldValue("analysisSource",null!==(m=null!==(g=p)&&void 0!==g?g:u)&&void 0!==m?m:c),l.setFieldValue("skillType",i),n({type:"success",content:"".concat(d," analysis done.")})):"url"===i&&"NO_TEXT"===j.data.errorCode?n({type:"error",content:"URL cannot be analyzed due to missing page content!"}):n({type:"error",content:"Something went wrong!"}),e.next=39;break;case 33:if(e.prev=33,e.t1=e.catch(7),f.current){e.next=37;break}return e.abrupt("return");case 37:n({type:"loading",content:"Analyzing ".concat(d,"..."),key:"updatable",duration:.2}),n({type:"error",content:"Something went wrong!"});case 39:return e.prev=39,o(),e.finish(39);case 42:case"end":return e.stop()}}),e,null,[[7,33,39,42]])})));return function(n,t){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[Object(I.jsx)(oe.a,{menu:{items:Oe,onClick:function(e){var n;switch(e.key){case"manual":return void r();case"description":return void b("description");case"pdf":return void(null===(n=m.current)||void 0===n||n.click());case"url":return void b("url");case"pick":return void c();default:return}}},children:Object(I.jsx)(M.a,{className:"list-container-action-button",icon:Object(I.jsx)(fe.a,{className:"icon-position-fix"}),children:"Add Skill"})}),Object(I.jsx)(ce,{open:"description"===j,onCancel:function(){b(null)},onDescriptionSubmit:function(e){g("description",{text:e})}}),Object(I.jsx)(he,{open:"url"===j,onCancel:function(){b(null)},onUrlSubmit:function(e){g("url",{url:e})}}),Object(I.jsx)("input",{type:"file",accept:"application/pdf",ref:m,style:{display:"none"},onChange:function(e){var n=e.target.files[0];n&&g("pdf",{file:n}).finally((function(){e.target.value=""}))}})]})},Se=t(235),ve=t(236),we={manual:{icon:Object(I.jsx)(ue.a,{}),title:"Skill created manually",formattedSource:null},description:{icon:Object(I.jsx)(de.a,{}),title:"Skill created through description analysis",formattedSource:"description"},pdf:{icon:Object(I.jsx)(pe.a,{}),title:"Skill created through PDF analysis",formattedSource:"PDF text"},url:{icon:Object(I.jsx)(je.a,{}),title:"Skill created through URL analysis",formattedSource:"URL"},training:{title:"Picked training",icon:Object(I.jsx)(be.a,{}),formattedSource:null}},Ce=function(e){var n=e.skill;if("training"===n.skillType)return Object(I.jsx)($,{training:n.training});var t=we[n.skillType].formattedSource;return t?Object(I.jsx)(z.a,{placement:"leftBottom",arrowPointAtCenter:!0,content:Object(I.jsxs)("div",{className:"skill-analysis-info",children:[Object(I.jsx)(j.a.Title,{level:5,children:"Skill created by analyzing the following ".concat(t,": ")}),"url"===n.skillType?Object(I.jsx)(j.a.Link,{href:n.analysisSource,target:"_blank",children:n.analysisSource}):Object(I.jsx)(j.a.Text,{children:n.analysisSource})]}),children:Object(I.jsx)(M.a,{type:"text",className:"skill-analysis-info-icon",icon:Object(I.jsx)(R.a,{}),size:"small"})}):null},Te=function(e){var n=e.skill,t=we[n.skillType],i=t.title,a=t.icon;return Object(I.jsx)(W.a,{title:i,children:a})},Ne=function(e){var n=e.skills,t=e.rsSkillsGroup,i=e.onSkillCheckboxChange,a=e.onSkillEdit,r=e.onSkillDelete;return Object(I.jsx)("div",{className:"skill-list",children:n.map((function(e){return Object(I.jsx)(B.a,{className:"skill-list-item".concat(e.enabled?"":" disabled"),size:"default",title:Object(I.jsxs)("div",{className:"skill-list-item-title-container",children:[Object(I.jsx)(W.a,{title:e.enabled?"Disable skill":"Enable skill",children:Object(I.jsx)(D.a,{className:"skill-list-item-checkbox",size:"large",checked:e.enabled,onChange:function(n){return i(n,e)}})}),Object(I.jsx)(Te,{skill:e}),Object(I.jsx)(j.a.Title,{className:"skill-list-item-title",level:5,children:e.name})]}),extra:Object(I.jsxs)("div",{className:"skill-list-item-actions",children:[Object(I.jsx)(Ce,{skill:e}),Object(I.jsx)(W.a,{title:"training"===e.skillType?"Picked training cannot be edited":"Edit skill",children:Object(I.jsx)(M.a,{disabled:"training"===e.skillType,className:"skill-list-item-action-edit",icon:Object(I.jsx)(Se.a,{}),size:"small",onClick:function(n){return a(n,e)}})}),Object(I.jsx)(W.a,{title:"Delete skill",children:Object(I.jsx)(M.a,{icon:Object(I.jsx)(ve.a,{}),size:"small",className:"skill-list-item-action-delete",type:"default",onClick:function(n){return r(n,e)}})})]}),children:Object(I.jsx)("ul",{children:e.skillsGroup.map((function(e){return Object(I.jsx)("li",{className:"skill-list-item-skill-group-name",children:t.find((function(n){return n.id===e})).name},"skill-group".concat(e))}))})},e.id)}))})},Ge=t(409),Ie=t(396),Fe=["pdf","description","url"],ze=function(e){if("object"===typeof e&&null!==e){var n=new Set;if(Array.isArray(e.skills)&&e.skills.length)return e.skills.every((function(e){return"training"===e.skillType&&"number"===typeof e.trainingId&&"boolean"===typeof e.enabled||!("string"!==typeof e.id||n.has(e.id)||!("manual"===e.skillType||Fe.includes(e.skillType)&&"string"===typeof e.analysisSource)||(n.add(e.id),"string"!==typeof e.name||"boolean"!==typeof e.enabled||!Array.isArray(e.skillsGroup)))&&e.skillsGroup.every((function(e){return"number"===typeof e}))}))}return!1},Me=function(e){var n=e.showMessage,t=e.onImportSuccess,a=Object(i.useState)(!1),r=Object(d.a)(a,2),l=r[0],s=r[1],c=Object(i.useRef)(l);Object(i.useEffect)((function(){c.current=l}),[l]);var o=function(){var e=Object(se.a)(le.a.mark((function e(i){var a,r,l;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.file,n({type:"loading",content:"Importing Skills...",key:"updatable",duration:5}),!c.current){e.next=4;break}return e.abrupt("return");case 4:if(s(!0),e.prev=5,!c.current){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,a.text();case 10:r=e.sent,l=JSON.parse(r),ze(l)?(t(l),n({type:"loading",content:"Importing Skills...",key:"updatable",duration:.2}),n({type:"success",content:"Skills import done."})):(n({type:"loading",content:"Importing Skills...",key:"updatable",duration:.2}),n({type:"error",content:"Invalid skills file format!"})),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),n({type:"loading",content:"Importing Skills...",key:"updatable",duration:.2}),n({type:"error",content:"Something went wrong!"});case 19:return e.prev=19,s(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[5,15,19,22]])})));return function(n){return e.apply(this,arguments)}}();return Object(I.jsx)(Ie.a,{accept:"application/json",maxCount:1,showUploadList:!1,customRequest:o,children:Object(I.jsx)(M.a,{className:"list-container-action-button list-container-import-action",loading:l,disabled:l,icon:Object(I.jsx)(Ge.a,{className:"icon-position-fix"}),children:"Import Skills"})})},Ae=t(410),_e=function(e){var n=e.isExportable,t=e.getExportData,i=e.showMessage;return Object(I.jsx)(M.a,{disabled:n,onClick:function(){var e=document.createElement("a"),n=new Blob([JSON.stringify(t())],{type:"application/json"});e.href=URL.createObjectURL(n),e.download="career-path-skills.json",document.body.appendChild(e),e.click(),i({type:"success",content:"Skills export done."})},className:"list-container-action-button",icon:Object(I.jsx)(Ae.a,{className:"icon-position-fix"}),children:"Export Skills"})},Pe=j.a.Title,Ee=function(e){var n=e.showMessage,t=a.a.useState([]),r=Object(d.a)(t,2),l=r[0],s=r[1],c=a.a.useState(null),j=Object(d.a)(c,2),x=j[0],O=j[1],y=a.a.useState(null),v=Object(d.a)(y,2),w=v[0],C=v[1],T=a.a.useState(null),N=Object(d.a)(T,2),G=N[0],z=N[1],M=a.a.useState(null),A=Object(d.a)(M,2),_=A[0],E=A[1],L=a.a.useState(null),D=Object(d.a)(L,2),U=D[0],R=D[1],V=Object(i.useState)(null),B=Object(d.a)(V,2),W=B[0],J=B[1],q=Object(i.useState)({open:!1,missingSkillsGroup:[]}),Y=Object(d.a)(q,2),H=Y[0],K=Y[1],X=Object(i.useState)(!1),Q=Object(d.a)(X,2),Z=Q[0],$=Q[1],ee=b.a.useForm(),ie=Object(d.a)(ee,1)[0];a.a.useEffect((function(){C(null),z(null),E(null),R(null),J(null),k.a.get(S.server.getData).then((function(e){e&&!1===e.data.error?(C(e.data.data.rs_skill_group),z(e.data.data.rs_specific_knowledge),E(e.data.data.rs_specific_skills),R(e.data.data.rs_profiles),J(e.data.data.trainings)):(C(0),z(0),E(0),R(0),J(0))})).catch((function(e){console.log(e),C(0),z(0),E(0),R(0),J(0)}))}),[]);var re=a.a.useMemo((function(){return null===w&&null===G&&null===_&&null===U&&null===W?"loading":Array.isArray(w)&&Array.isArray(G)&&Array.isArray(_)&&Array.isArray(U)&&Array.isArray(W)?"ok":"error"}),[w,G,_,U,W]);return Object(I.jsx)("section",{id:"career-path-vut",children:Object(I.jsx)("div",{className:"section-container",children:Object(I.jsxs)("div",{className:"text-content",children:[Object(I.jsx)(Pe,{level:1,className:"pageTitle",children:"Career Path"}),"loading"===re?Object(I.jsx)("div",{className:"vertCenter",children:Object(I.jsx)(f.a,{tip:"Loading...",indicator:Object(I.jsx)(p.a,{style:{fontSize:24},spin:!0})})}):"error"===re?Object(I.jsx)(m.a,{status:"500",title:"500",subTitle:"Sorry, something went wrong."}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(g.a,{children:[Object(I.jsxs)(h.a,{span:12,className:"left-col",children:[Object(I.jsx)("div",{className:"list-container-title",children:Object(I.jsx)(Pe,{level:2,className:"col-title",children:"Your Skills"})}),Object(I.jsxs)("div",{className:"list-container-actions",children:[Object(I.jsx)(ye,{onAnalyzingStart:function(){return $(!0)},onAnalyzingEnd:function(){return $(!1)},form:ie,showMessage:n,openAddForm:function(){return O("new")},onPickTrainings:function(){K({open:!0,missingSkillsGroup:[]})},analyzing:Z}),Object(I.jsxs)("div",{children:[Object(I.jsx)(Me,{showMessage:n,onImportSuccess:function(e){s((function(n){return function(e,n,t){te+=1;var i=e.reduce((function(e,i){if("number"===typeof i.trainingId){var a=ae(i.trainingId);if(-1===n.findIndex((function(e){return e.id===a}))){var r=t.find((function(e){return e.id===i.trainingId}));r&&e.push({id:a,skillType:"training",trainingId:i.trainingId,name:r.name,enabled:!0,skillsGroup:r.skills_group,training:r})}}else{var l=Object(o.a)(Object(o.a)({},i),{},{id:"imp_".concat(te,"_").concat(i.id)});e.push(l)}return e}),[]);return[].concat(Object(u.a)(n),Object(u.a)(i))}(e.skills,n,W)}))}}),Object(I.jsx)(_e,{isExportable:!l.length,getExportData:function(){return{skills:l.map((function(e){return"training"===e.skillType?{skillType:"training",trainingId:e.trainingId,enabled:e.enabled}:e}))}},showMessage:n})]})]}),Object(I.jsx)("div",{className:"list-container",children:Object(I.jsx)(Ne,{skills:l,rsSkillsGroup:w,onSkillCheckboxChange:function(e,n){s((function(e){return e.map((function(e){return e.id===n.id?Object(o.a)(Object(o.a)({},e),{},{enabled:!e.enabled}):e}))}))},onSkillEdit:function(e,n){O(n)},onSkillDelete:function(e,n){s((function(e){return e.filter((function(e){return e!==n}))}))}})})]}),Object(I.jsxs)(h.a,{span:12,className:"right-col",children:[Object(I.jsx)("div",{className:"statistics-title",children:Object(I.jsx)(Pe,{level:2,className:"col-title",children:"Statistics"})}),Object(I.jsx)(P,{skills:l.filter((function(e){return e.enabled})),rsSkillsGroup:w,rsProfiles:U,onTrainingsSearchClick:function(e,n){K({open:!0,missingSkillsGroup:n})}})]})]}),Object(I.jsx)(F,{showMessage:n,editRecord:x,onCancel:function(){return O(null)},onModalSubmit:function(e,t){t?(e.id||(e.id=ae()),e.enabled=!0,s([].concat(Object(u.a)(l),[e]))):s(l.map((function(n){return n.id===e.id?Object(o.a)(Object(o.a)({},n),e):n}))),n({type:"success",content:"Skill saved successfully!"}),O(null)},rsSkillsGroup:w,form:ie,analyzing:Z,setAnalyzing:$}),Object(I.jsx)(ne,{showMessage:n,open:H.open,initialSkillsGroup:H.missingSkillsGroup,rsSkillsGroup:w,trainings:W,onClose:function(){return K({open:!1,missingSkillsGroup:[]})},onTrainingsPick:function(e){s([].concat(Object(u.a)(l),Object(u.a)(e.map((function(e){return{id:ae(e.id),skillType:"training",trainingId:e.id,name:e.name,enabled:!0,skillsGroup:e.skills_group,training:e}})))))},skills:l})]})]})})})},Le=t(80),De=function(){return Object(I.jsx)(c.a,{className:"layout",children:Object(I.jsx)(Le.a,{className:"site-layout-content",children:Object(I.jsx)(Ee,{showMessage:function(e){switch(e.type){case"info":s.b.info(e);break;case"error":s.b.error(e);break;case"loading":s.b.loading(e);break;case"success":s.b.success(e);break;default:s.b.warning(e)}}})})})};l.a.render(Object(I.jsx)(a.a.StrictMode,{children:Object(I.jsx)(De,{})}),document.getElementById("root"))}},[[388,1,2]]]);
//# sourceMappingURL=main.65f5a661.chunk.js.map