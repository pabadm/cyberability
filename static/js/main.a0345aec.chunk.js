(this["webpackJsonprewire-cyberability-platform"]=this["webpackJsonprewire-cyberability-platform"]||[]).push([[0],{333:function(e,t){},381:function(e,t){},383:function(e,t){},393:function(e,t){},395:function(e,t){},422:function(e,t){},424:function(e,t){},425:function(e,t){},430:function(e,t){},432:function(e,t){},438:function(e,t){},440:function(e,t){},459:function(e,t){},471:function(e,t){},474:function(e,t){},479:function(e,t,n){},480:function(e,t,n){},597:function(e,t){},598:function(e,t){},599:function(e,t){},600:function(e,t){},601:function(e,t){},606:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),r=n(37),s=n.n(r),l=n(78),c=n.n(l),o=n(70),u=n(114),d=n(30),p=n(82),f=n.n(p),b=n(348),j=n(612),m=n(251),g=n(121),h=n.n(g),x=n(335),O="http://localhost/",k=(n(479),n(41)),y=n(69),S=n(617),v=n(616),w=n(340),C=n(620),T=n(610),N=n(611),G={server:{getData:"http://localhost/career-path/getData.php",pdfjsWorker:"http://localhost/career-path/pdf.worker.min.js",analyzeCourseDescription:O+"csprofiler/analyzeCourseDescription.php",analyzeUrl:"http://localhost/career-path/analyzeUrl.php",suggestTrainings:"http://localhost/career-path/suggestTrainings.php"}},I=(n(480),n(619)),M=n(347),F=n(168),z=[1,3,4,5,8,11,12,13,14,15,16,20,24,29,30],_=[6,7,10,17,18,25,27],A=[2,9,19,21,22,23,26,28,31],E=n(5),P=function(e){var t=e.form,n=e.showMessage,a=e.editRecord,r=e.onCancel,s=e.onModalSubmit,l=e.rsSkillsGroup,c=e.analyzing,o=e.setAnalyzing,u=Object(i.useState)(!1),p=Object(d.a)(u,2),f=p[0],b=p[1];return Object(i.useEffect)((function(){if("object"===typeof a&&null!==a&&t.getFieldValue("id")!==a.id){var e=JSON.parse(JSON.stringify(a));e.itSkillsGroup=e.skillsGroup.filter((function(e){return _.includes(e)})),e.csSkillsGroup=e.skillsGroup.filter((function(e){return z.includes(e)})),e.sfSkillsGroup=e.skillsGroup.filter((function(e){return A.includes(e)})),delete e.skillsGroup,delete e.enabled,t.setFieldsValue(e),b(!1)}else"new"===a&&b(!0)}),[a,t]),Object(E.jsx)(I.a,{getContainer:!1,centered:!0,open:null!==a,title:f?"Add a new skill":"Edit skill",width:850,okText:"Save",cancelText:"Cancel",onCancel:function(){c&&(n({type:"loading",content:"Analyzing Description...",key:"updatable",duration:.2}),n({type:"warning",content:"Analysis stopped."}),o(!1)),t.resetFields(),r()},className:f?"add-skill-modal":"edit-skill-modal",onOk:function(){t.validateFields().then((function(e){c?n({type:"error",content:"Please wait for the analysis to finish."}):(e.skillsGroup=e.itSkillsGroup.concat(e.csSkillsGroup,e.sfSkillsGroup),delete e.itSkillsGroup,delete e.csSkillsGroup,delete e.sfSkillsGroup,s(JSON.parse(JSON.stringify(e)),f),t.resetFields())}))},okButtonProps:{disabled:c},cancelButtonProps:{disabled:c},children:Object(E.jsxs)(v.a,{preserve:!0,form:t,layout:"horizontal",name:f?"add-skill-modal-form":"edit-skill-modal-form",labelCol:{span:7},wrapperCol:{span:15},labelWrap:!0,colon:!1,className:"content-scroll",initialValues:{name:"My Skill",skillType:"manual",itSkillsGroup:[],csSkillsGroup:[],sfSkillsGroup:[]},children:[Object(E.jsx)(v.a.Item,{name:"name",label:"Title",rules:[{required:!0,message:"Please enter the title"},{type:"string",min:2,max:1023}],children:Object(E.jsx)(M.a,{})}),Object(E.jsx)(v.a.Item,{name:"itSkillsGroup",label:"IT Skills",hidden:c,children:Object(E.jsx)(F.a,{showSearch:!0,showArrow:!0,disabled:c,allowClear:!0,mode:"multiple",optionFilterProp:"label",options:l.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0})).filter((function(e){return _.includes(e.id)})).map((function(e){return{value:e.id,label:e.name}}))})}),Object(E.jsx)(v.a.Item,{name:"csSkillsGroup",label:"CS Skills",hidden:c,children:Object(E.jsx)(F.a,{showSearch:!0,showArrow:!0,disabled:c,allowClear:!0,mode:"multiple",optionFilterProp:"label",options:l.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0})).filter((function(e){return z.includes(e.id)})).map((function(e){return{value:e.id,label:e.name}}))})}),Object(E.jsx)(v.a.Item,{name:"sfSkillsGroup",label:"Soft Skills",hidden:c,children:Object(E.jsx)(F.a,{showSearch:!0,showArrow:!0,allowClear:!0,disabled:c,mode:"multiple",optionFilterProp:"label",options:l.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0})).filter((function(e){return A.includes(e.id)})).map((function(e){return{value:e.id,label:e.name}}))})}),Object(E.jsx)(v.a.Item,{name:"skillType",label:"skillType",hidden:!0,children:Object(E.jsx)(M.a,{})}),Object(E.jsx)(v.a.Item,{name:"analysisSource",label:"analysisSource",hidden:!0,children:Object(E.jsx)(M.a,{})}),Object(E.jsx)(v.a.Item,{name:"id",label:"Id",hidden:!0,children:Object(E.jsx)(M.a,{})}),c&&Object(E.jsx)("div",{className:"loading-icon-container",children:Object(E.jsx)(w.a,{tip:"Analysis in progress...",indicator:Object(E.jsx)(y.a,{style:{fontSize:24},spin:!0})})})]})})},D=n(621),L=n(59),U=n(613),R=S.a.Title,V=function(e){var t=e.skills,n=e.rsProfiles,i=e.rsSkillsGroup,a=e.onTrainingsSearchClick,r=[{title:"Profile",dataIndex:"name",key:"name"},{title:"Coverage",dataIndex:"coverage",key:"coverage",align:"right",width:"90px",render:function(e,t){return Object(E.jsx)(D.a,{placement:"leftBottom",arrowPointAtCenter:!0,content:Object(E.jsxs)("div",{className:"skills-popover",children:[Object(E.jsx)(R,{level:5,children:"Included Skills"}),Object(E.jsx)("ul",{children:t.included.length?t.included.map((function(e,t){return Object(E.jsxs)("li",{children:[e.name,Object(E.jsx)("br",{})]},t)})):Object(E.jsx)("span",{className:"empty",children:"none"})}),Object(E.jsx)(R,{level:5,children:"Missing Skills"}),Object(E.jsx)("ul",{children:t.missing.length?t.missing.map((function(e,t){return Object(E.jsxs)("li",{children:[e.name,Object(E.jsx)("br",{})]},t)})):Object(E.jsx)("span",{className:"empty",children:"none"})}),Object(E.jsx)(L.a,{onClick:function(e){return a(e,t.missing.map((function(e){return e.id})))},children:"Find Trainings"})]}),children:Object(E.jsx)("span",{children:Object(E.jsx)(L.a,{type:"link",children:(n=e,n>67?"High":n>33?"Medium":n>=0?"Low":"Error")})})});var n}}],s=function(){var e=[];return t.forEach((function(t){t.skillsGroup.forEach((function(t){e=e.concat(t)}))})),Object(k.a)(new Set(e)).sort((function(e,t){return e-t}))};return Object(E.jsx)("div",{className:"statistics",children:Object(E.jsx)("div",{className:"content",children:t.length>-1?Object(E.jsx)("div",{className:"content-scroll",children:Object(E.jsx)(U.a,{size:"small",pagination:!1,columns:r,dataSource:n.map((function(e){var t=[],n=[],a=s();return e.skills_group.forEach((function(e){a.includes(e)?t.push(i.find((function(t){return t.id===e}))):n.push(i.find((function(t){return t.id===e})))})),{coverage:parseInt((t.length/e.skills_group.length*100).toFixed(0)),name:e.name,profileId:e.id,included:t,missing:n}})),rowKey:"profileId"})}):Object(E.jsx)("div",{className:"empty-data",children:Object(E.jsx)("font",{className:"header",children:"There are no courses yet."})})})})},Y=n(120),W=n(618),B=n(146),H=function(e){var t,n,i=e.form,a=e.rsSkillsGroup,r=e.onChange,s=e.initialValues,l=e.filters;return Object(E.jsxs)(v.a,{onValuesChange:function(e,t){return r(t)},size:"small",preserve:!0,form:i,layout:"horizontal",name:"trainings-filter-form",labelCol:{span:7},wrapperCol:{span:15},labelWrap:!0,colon:!1,className:"content-scroll",initialValues:s,children:[Object(E.jsx)(v.a.Item,{name:"countries",label:"Countries",children:Object(E.jsx)(F.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",options:l.countries})}),Object(E.jsx)(v.a.Item,{name:"languages",label:"Languages",children:Object(E.jsx)(F.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",options:l.languages})}),Object(E.jsx)(v.a.Item,{name:"organizers",label:"Organizers",children:Object(E.jsx)(F.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",options:l.organizers})}),Object(E.jsx)(v.a.Item,{name:"typeFormats",label:"Types/Formats",children:Object(E.jsx)(F.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",options:l.typeFormats})}),Object(E.jsx)(v.a.Item,{name:"contentTypes",label:"Content Types",children:Object(E.jsx)(F.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",options:l.contentTypes})}),Object(E.jsx)(v.a.Item,{name:"canLeadToCertifications",label:"Can lead to certifications",children:Object(E.jsx)(F.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",options:l.canLeadToCertifications})}),Object(E.jsx)(v.a.Item,{name:"includesExamsForCertifications",label:"Includes exams for certifications",children:Object(E.jsx)(F.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",options:l.includesExamsForCertifications})}),Object(E.jsx)(v.a.Item,{name:"itSkillsGroup",label:"IT Skills",children:Object(E.jsx)(F.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",optionFilterProp:"label",options:a.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0})).filter((function(e){return _.includes(e.id)})).map((function(e){return{value:e.id,label:e.name}}))})}),Object(E.jsx)(v.a.Item,{name:"csSkillsGroup",label:"CS Skills",children:Object(E.jsx)(F.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",optionFilterProp:"label",options:a.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0})).filter((function(e){return z.includes(e.id)})).map((function(e){return{value:e.id,label:e.name}}))})}),Object(E.jsx)(v.a.Item,{name:"sfSkillsGroup",label:"Soft Skills",children:Object(E.jsx)(F.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",optionFilterProp:"label",options:a.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0})).filter((function(e){return A.includes(e.id)})).map((function(e){return{value:e.id,label:e.name}}))})}),Object(E.jsx)(v.a.Item,{name:"trainingFocus",label:"Training Focus",children:Object(E.jsx)(F.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",optionFilterProp:"label",options:[{value:"IT",label:"IT"},{value:"CS",label:"Cybersecurity"},{value:"Soft",label:"Soft Skills"}]})}),Object(E.jsx)(v.a.Item,{name:"price",label:"Price",children:Object(E.jsx)(W.a,{range:!0,tooltip:{formatter:function(e){return"".concat(e," \u20ac")}},marks:(t={},Object(Y.a)(t,l.priceMin,{style:{left:0,right:"unset",transform:"unset"},label:"".concat(l.priceMin," \u20ac")}),Object(Y.a)(t,l.priceMax,{style:{right:0,left:"unset",transform:"unset"},label:"".concat(l.priceMax," \u20ac")}),t),min:l.priceMin,max:l.priceMax})}),Object(E.jsx)(v.a.Item,{name:"duration",label:"Duration",children:Object(E.jsx)(W.a,{range:!0,tooltip:{formatter:function(e){return"".concat(e," h")}},marks:(n={},Object(Y.a)(n,l.durationMin,{style:{left:0,right:"unset",transform:"unset"},label:"".concat(l.durationMin," h")}),Object(Y.a)(n,l.durationMax,{style:{right:0,left:"unset",transform:"unset"},label:"".concat(l.durationMax," h")}),n),min:l.durationMin,max:l.durationMax})}),Object(E.jsx)(v.a.Item,{valuePropName:"checked",name:"showPicked",label:"Show picked trainings",children:Object(E.jsx)(B.a,{})}),Object(E.jsx)(v.a.Item,{valuePropName:"checked",name:"showOutdated",label:"Show outdated trainings",children:Object(E.jsx)(B.a,{})}),Object(E.jsx)(v.a.Item,{valuePropName:"checked",name:"disableSuggestions",label:"Disable suggestions",children:Object(E.jsx)(B.a,{})}),Object(E.jsx)(v.a.Item,{label:"Max suggestions",name:"maxSuggestions",shouldUpdate:function(e,t){return e.disableSuggestions!==t.disableSuggestions},children:Object(E.jsx)(W.a,{disabled:i.getFieldValue("disableSuggestions"),tooltip:{formatter:function(e){return"".concat(e)}},marks:{1:{style:{left:0,right:"unset",transform:"unset"},label:"".concat(1)},5:{style:{right:0,left:"unset",transform:"unset"},label:"".concat(5)}},min:1,max:5})}),Object(E.jsx)(v.a.Item,{name:"maxTrainingsPerSuggestion",label:"Max trainings per suggestion",shouldUpdate:function(e,t){return e.disableSuggestions!==t.disableSuggestions},children:Object(E.jsx)(W.a,{disabled:i.getFieldValue("disableSuggestions"),tooltip:{formatter:function(e){return"".concat(e)}},marks:{1:{style:{left:0,right:"unset",transform:"unset"},label:"".concat(1)},10:{style:{right:0,left:"unset",transform:"unset"},label:"".concat(10)}},min:1,max:10})}),Object(E.jsx)(v.a.Item,{name:"id",label:"Id",hidden:!0,children:Object(E.jsx)(M.a,{})})]})},J=n(216),q=n(609),K=n(615),X=n(57),Q=n(622),Z=n(98),$=function(e){if("Available online"===e.timing||"On demand"===e.timing)return!1;var t=h()();return e.dates.every((function(e){return h()(e,"YYYY-MM-DD").isBefore(t,"date")}))},ee=function(e,t,n){var i=[].concat(Object(k.a)(n.itSkillsGroup),Object(k.a)(n.csSkillsGroup),Object(k.a)(n.sfSkillsGroup));return e.filter((function(e){return!(!n.showOutdated&&$(e))&&(!(!n.showPicked&&-1!==t.findIndex((function(t){return"training"===t.skillType&&t.trainingId===e.id})))&&(!(n.countries.length&&!n.countries.includes(e.country))&&(!(n.languages.length&&!e.language.some((function(e){return n.languages.includes(e)})))&&(!(n.organizers.length&&!n.organizers.includes(e.organizer))&&(!(n.typeFormats.length&&!n.typeFormats.includes(e.type_format))&&(!(n.contentTypes.length&&!n.contentTypes.includes(e.content_type))&&(!(n.canLeadToCertifications.length&&!n.canLeadToCertifications.includes(e.can_lead_to_certification))&&(!(n.includesExamsForCertifications.length&&!n.includesExamsForCertifications.includes(e.includes_exams_for_certification))&&(!(n.trainingFocus.length&&!function(e){var t=0,n=0,i=0;e.skills_group.forEach((function(e){t+=_.includes(e)?1:0,n+=A.includes(e)?1:0,i+=z.includes(e)?1:0}));var a=[];return t>=n&&t>=i&&a.push("IT"),n>=t&&n>=i&&a.push("Soft"),i>=n&&i>=t&&a.push("CS"),a}(e).some((function(e){return n.trainingFocus.includes(e)})))&&(Number(e.price)>=n.price[0]&&Number(e.price)<=n.price[1]&&(Number(e.duration)>=n.duration[0]&&Number(e.duration)<=n.duration[1]&&!(i.length&&!e.skills_group.some((function(e){return i.includes(e)}))))))))))))))}))},te=function(e){var t=e.training,n=[{label:"Organizer",value:t.organizer},{label:"Country",value:t.country},{label:"Duration",value:t.duration+" hours"},{label:"Timing",value:t.timing},{label:"Type/Format",value:t.type_format},{label:"Price",value:t.price+" \u20ac"},{label:"Can lead to certification",value:t.can_lead_to_certification},{label:"Includes exams for certification",value:t.includes_exams_for_certification},{label:"Content type",value:t.content_type},{label:"Language",value:t.language.join(", ")},{label:"Dates",value:t.dates.join(", ")}];return Object(E.jsx)(U.a,{showHeader:!1,size:"small",pagination:!1,columns:[{title:"Label",dataIndex:"label",key:"label"},{title:"Value",dataIndex:"value"}],dataSource:n,rowKey:"label"})},ne=Object(q.a)((function(e){var t=e.filter,n=e.filteredTrainings,i=e.setSuggestedTrainings,a=e.setSuggestionsLoading,r=e.showMessage;if(n.length){var s=[].concat(Object(k.a)(t.sfSkillsGroup),Object(k.a)(t.csSkillsGroup),Object(k.a)(t.itSkillsGroup));s.length?f.a.post(G.server.suggestTrainings,{price:t.price,duration:t.duration,weight:7,selectedSkills:s,requiredNumOfResults:t.maxSuggestions,maxTrainings:t.maxTrainingsPerSuggestion,filteredTrainings:n.map((function(e){return e.id}))},{headers:{"Content-Type":"application/json"}}).then((function(e){e.data.data?i(e.data.data):(i([]),r({type:"error",content:"Something went wrong!"}))})).catch((function(e){r({type:"error",content:"Something went wrong!"})})).finally((function(){a(!1)})):(i([]),a(!1))}else i([]),a(!1)}),500),ie=function(e){var t=e.training;return Object(E.jsx)(D.a,{placement:"leftBottom",arrowPointAtCenter:!0,content:Object(E.jsxs)("div",{className:"training-additional-info",children:[Object(E.jsx)("div",{className:"training-description",children:Object(E.jsx)(S.a.Text,{children:t.description})}),Object(E.jsx)("div",{className:"training-data-content",children:Object(E.jsx)(te,{training:t})}),Object(E.jsx)("div",{className:"training-data-link",children:Object(E.jsx)(L.a,{type:"link",href:t.link,children:"Website"})})]}),children:Object(E.jsx)(L.a,{type:"text",className:"training-info-icon",icon:Object(E.jsx)(J.a,{}),size:"small"})})},ae=function(e){var t=e.trainings,n=e.filter,a=e.showMessage,r=e.rsSkillsGroup,s=e.checkedTrainings,l=e.onCheckTraining,c=e.skills,o=Object(i.useState)([]),u=Object(d.a)(o,2),p=u[0],f=u[1],b=Object(i.useState)(!1),j=Object(d.a)(b,2),m=j[0],g=j[1],h=Object(i.useMemo)((function(){return ee(t,c,n)}),[t,c,n]);Object(i.useEffect)((function(){var e=n.sfSkillsGroup.length+n.csSkillsGroup.length+n.itSkillsGroup.length!==0;return n.disableSuggestions||!e?(ne.clear(),g(!1),function(){g(!1),f([])}):(g(!0),ne({filter:n,filteredTrainings:h,setSuggestedTrainings:f,showMessage:a,setSuggestionsLoading:g}),function(){g(!1),f([])})}),[n,h,a]);var x=Object(i.useMemo)((function(){var e=[].concat(Object(k.a)(n.sfSkillsGroup),Object(k.a)(n.csSkillsGroup),Object(k.a)(n.itSkillsGroup));return function(e,t){var n=new Map;return t.forEach((function(e,t){e.forEach((function(e){n.has(e)||n.set(e,t)}))})),Object(k.a)(e).sort((function(e,t){return(n.has(e.id)?n.get(e.id):1/0)-(n.has(t.id)?n.get(t.id):1/0)}))}(h,p).map((function(t){return{training:t,searchedSkillGroup:t.skills_group.filter((function(t){return e.includes(t)||0===e.length})),otherSkillGroup:t.skills_group.filter((function(t){return!e.includes(t)&&0!==e.length})),suggestedIn:p.reduce((function(e,n,i){return n.includes(t.id)&&e.push(i+1),e}),[])}}))}),[h,p,n]),O=function(e){return-1!==c.findIndex((function(t){return"training"===t.skillType&&t.trainingId===e.id}))};return Object(E.jsx)("div",{className:"trainings-list content-scroll",children:x.length?x.map((function(e){var t=e.searchedSkillGroup,i=e.otherSkillGroup,a=e.training,c=e.suggestedIn;return Object(E.jsxs)(K.a,{size:"small",title:Object(E.jsxs)("div",{className:"trainings-list-item-title-container",children:[Object(E.jsx)(X.a,{title:s.some((function(e){return e.id===a.id}))?"Remove skill":O(a)?"Skill is already picked":"Add skill",children:Object(E.jsx)(B.a,{className:"trainings-list-item-checkbox",size:"large",checked:s.some((function(e){return e.id===a.id}))||O(a),disabled:O(a),onChange:function(){return l(a)}})}),Object(E.jsx)(S.a.Title,{level:5,children:a.name})]}),extra:Object(E.jsx)("div",{children:Object(E.jsx)(ie,{training:a})}),children:[Object(E.jsxs)("ul",{children:[t.map((function(e){return Object(E.jsx)("li",{children:r.find((function(t){return t.id===e})).name},"searched-skill-group".concat(e))})),i.map((function(e){return Object(E.jsx)("li",{className:"other-skill-group",children:r.find((function(t){return t.id===e})).name},"other-skill-group".concat(e))}))]}),n.showOutdated&&$(a)&&Object(E.jsx)(Q.a,{color:"orange",children:"Outdated"}),c.map((function(e){var t="cyan";return 2===e&&(t="blue"),3===e&&(t="geekblue"),4===e&&(t="magenta"),5===e&&(t="purple"),Object(E.jsx)(Q.a,{color:t,children:"Suggestion ".concat(e)},e)})),m&&Object(E.jsx)(w.a,{size:"small"})]},a.id)})):Object(E.jsx)(Z.a,{description:"No trainings found"})})},re=function(e){var t=e.rsSkillsGroup,n=e.trainings,a=e.open,r=e.initialSkillsGroup,s=void 0===r?[]:r,l=e.onClose,c=e.showMessage,u=e.onTrainingsPick,p=e.skills,f=Object(i.useMemo)((function(){return function(e){var t=e.reduce((function(e,t){e.countries.includes(t.country)||e.countries.push(t.country),t.language.forEach((function(t){e.languages.includes(t)||e.languages.push(t)})),e.typeFormats.includes(t.type_format)||e.typeFormats.push(t.type_format),e.organizers.includes(t.organizer)||e.organizers.push(t.organizer),e.canLeadToCertifications.includes(t.can_lead_to_certification)||e.canLeadToCertifications.push(t.can_lead_to_certification),e.includesExamsForCertifications.includes(t.includes_exams_for_certification)||e.includesExamsForCertifications.push(t.includes_exams_for_certification),e.contentTypes.includes(t.content_type)||e.contentTypes.push(t.content_type);var n=Number(t.duration);(null===e.durationMin||e.durationMin>n)&&(e.durationMin=n),(null===e.durationMax||e.durationMax<n)&&(e.durationMax=n);var i=Number(t.price);return(null===e.priceMin||e.priceMin>i)&&(e.priceMin=i),(null===e.priceMax||e.priceMax<i)&&(e.priceMax=i),e}),{countries:[],languages:[],typeFormats:[],organizers:[],canLeadToCertifications:[],includesExamsForCertifications:[],contentTypes:[],durationMin:null,durationMax:null,priceMax:null,priceMin:null}),n=function(e){return{value:e,label:e||"Unknown"}},i=function(e,t){return e.label.localeCompare(t.label)};return t.countries=t.countries.map(n).sort(i),t.languages=t.languages.map(n).sort(i),t.typeFormats=t.typeFormats.map(n).sort(i),t.organizers=t.organizers.map(n).sort(i),t.canLeadToCertifications=t.canLeadToCertifications.map(n).sort(i),t.includesExamsForCertifications=t.includesExamsForCertifications.map(n).sort(i),t.contentTypes=t.contentTypes.map(n).sort(i),t}(n)}),[n]),b=Object(i.useState)((function(){return{countries:[],languages:[],typeFormats:[],organizers:[],canLeadToCertifications:[],includesExamsForCertifications:[],contentTypes:[],duration:[f.durationMin,f.durationMax],price:[f.priceMin,f.priceMax],itSkillsGroup:(null!==s&&void 0!==s?s:[]).filter((function(e){return _.includes(e)})),csSkillsGroup:(null!==s&&void 0!==s?s:[]).filter((function(e){return z.includes(e)})),sfSkillsGroup:(null!==s&&void 0!==s?s:[]).filter((function(e){return A.includes(e)})),showOutdated:!1,showPicked:!1,trainingFocus:[],disableSuggestions:!1,maxSuggestions:1,maxTrainingsPerSuggestion:6}})),j=Object(d.a)(b,2),m=j[0],g=j[1],h=v.a.useForm(),x=Object(d.a)(h,1)[0],O=Object(i.useState)([]),y=Object(d.a)(O,2),S=y[0],w=y[1];return Object(i.useEffect)((function(){if("number"===typeof(null===s||void 0===s?void 0:s.length)){var e={itSkillsGroup:s.filter((function(e){return _.includes(e)})),csSkillsGroup:s.filter((function(e){return z.includes(e)})),sfSkillsGroup:s.filter((function(e){return A.includes(e)}))};g((function(t){return Object(o.a)(Object(o.a)({},t),e)})),x.setFieldsValue(e)}w([])}),[s,x]),Object(E.jsx)(I.a,{getContainer:!1,centered:!0,open:a,title:"Trainings Browser",width:950,cancelText:"Close",okButtonProps:{disabled:0===S.length},className:"trainings-browser-modal",onCancel:function(){x.resetFields(),w([]),l()},okText:"Pick",onOk:function(){u&&u(S),w([]),l()},children:Object(E.jsxs)("div",{className:"trainings-browser",children:[Object(E.jsx)("div",{className:"trainings-browser-filter",children:Object(E.jsx)(H,{form:x,rsSkillsGroup:t,onChange:g,filters:f,initialValues:m})}),Object(E.jsx)("div",{className:"trainings-browser-list",children:Object(E.jsx)(ae,{skills:p,onCheckTraining:function(e){return w((function(t){return-1!==t.findIndex((function(t){return t.id===e.id}))?t.filter((function(t){return t.id!==e.id})):[].concat(Object(k.a)(t),[e])}))},checkedTrainings:S,showMessage:c,filter:m,form:x,rsSkillsGroup:t,trainings:n})})]})})},se=0,le=0,ce=function(e){return"number"===typeof e?"tr_".concat(e):"sk_".concat(le+=1)},oe=function(e){var t=e.open,n=e.onCancel,i=e.onDescriptionSubmit,a=v.a.useForm(),r=Object(d.a)(a,1)[0];return Object(E.jsx)(I.a,{getContainer:!1,centered:!0,open:t,title:"Analyze Description",width:850,okText:"Analyze",cancelText:"Cancel",onCancel:function(){r.resetFields(),n()},onOk:function(){r.validateFields().then((function(e){i(e.description),r.resetFields()})).catch((function(){}))},children:Object(E.jsx)(v.a,{preserve:!0,form:r,layout:"horizontal",wrapperCol:{span:24},labelWrap:!0,colon:!1,className:"content-scroll",children:Object(E.jsx)(v.a.Item,{name:"description",rules:[{required:!0,message:"Please enter the description"},{type:"string",min:4}],children:Object(E.jsx)(M.a.TextArea,{placeholder:"Enter Skill description here",rows:6})})})})},ue=n(212),de=n(623),pe=n(624),fe=n(625),be=n(626),je=n(144),me=n(350),ge=n(254),he=function(e){return e?e.startsWith("http")?e:"https://".concat(e.replace(/^https?:\/\//,"")):e},xe=function(e){var t=e.open,n=e.onCancel,i=e.onUrlSubmit,a=v.a.useForm(),r=Object(d.a)(a,1)[0];return Object(E.jsx)(I.a,{getContainer:!1,centered:!0,open:t,title:"Analyze URL",width:850,okText:"Analyze",cancelText:"Cancel",onCancel:function(){r.resetFields(),n()},onOk:function(){r.validateFields().then((function(e){i(he(e.url)),r.resetFields()}))},children:Object(E.jsx)(v.a,{preserve:!0,form:r,layout:"horizontal",wrapperCol:{span:24},labelWrap:!0,colon:!1,className:"content-scroll",children:Object(E.jsx)(v.a.Item,{name:"url",rules:[{required:!0,message:"Please enter the URL"},{validator:function(e,t){return!t||function(e){try{var t=new URL(he(e));return"https:"===t.protocol&&"https:"===t.protocol&&t.hostname.includes(".")}catch(n){return!1}}(t)?Promise.resolve():Promise.reject(new Error("Please enter a valid URL"))}}],children:Object(E.jsx)(M.a,{placeholder:"Enter URL here"})})})})};function Oe(e){return ke.apply(this,arguments)}function ke(){return(ke=Object(u.a)(c.a.mark((function e(t){var n,i,a,r,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.arrayBuffer();case 2:return n=e.sent,e.next=5,ge.getDocument({data:n}).promise;case 5:i=e.sent,a="",r=1;case 8:if(!(r<=i.numPages)){e.next=19;break}return e.next=11,i.getPage(r);case 11:return s=e.sent,e.next=14,s.getTextContent();case 14:l=e.sent,a+=l.items.map((function(e){return e.str})).join(" ");case 16:r++,e.next=8;break;case 19:return e.abrupt("return",a);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}ge.GlobalWorkerOptions.workerSrc=G.server.pdfjsWorker;var ye=[{icon:Object(E.jsx)(de.a,{}),key:"manual",label:"Create Manually"},{icon:Object(E.jsx)(pe.a,{}),key:"description",label:"Analyze Description"},{icon:Object(E.jsx)(fe.a,{}),key:"pdf",label:"Analyze PDF"},{icon:Object(E.jsx)(be.a,{}),key:"url",label:"Analyze URL"},{icon:Object(E.jsx)(je.a,{}),key:"pick",label:"Pick Trainings"}],Se=function(e){var t=e.showMessage,n=e.onAnalyzingStart,r=e.openAddForm,s=e.form,l=e.analyzing,o=e.onPickTrainings,p=e.onAnalyzingEnd,b=Object(i.useState)(null),j=Object(d.a)(b,2),m=j[0],g=j[1],h=a.a.useRef(l),x=Object(i.useRef)(null);a.a.useEffect((function(){h.current=l}),[l]);var O=function(){var e=Object(u.a)(c.a.mark((function e(i,a){var l,o,u,d,b,j,m,x;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=a.file,o=a.text,u=a.url,t({type:"loading",content:"Analyzing ".concat(d="pdf"===i?"PDF file":"url"===i?"URL":"description"===i?"Description":"Unknown Type","..."),key:"updatable",duration:5}),n(),g(null),r(),s.setFieldValue("name","My Skill (".concat(d," Analysis)")),e.prev=7,e.t0=i,e.next="pdf"===e.t0?11:"description"===e.t0?18:"url"===e.t0?22:26;break;case 11:return e.next=13,Oe(l);case 13:return b=e.sent,e.next=16,f.a.post(G.server.analyzeCourseDescription,{description:b},{headers:{"Content-Type":"application/json"}});case 16:return j=e.sent,e.abrupt("break",27);case 18:return e.next=20,f.a.post(G.server.analyzeCourseDescription,{description:o},{headers:{"Content-Type":"application/json"}});case 20:return j=e.sent,e.abrupt("break",27);case 22:return e.next=24,f.a.post(G.server.analyzeUrl,{url:u},{headers:{"Content-Type":"application/json"}});case 24:return j=e.sent,e.abrupt("break",27);case 26:j={data:{error:!0}};case 27:if(h.current){e.next=29;break}return e.abrupt("return");case 29:t({type:"loading",content:"Analyzing ".concat(d,"..."),key:"updatable",duration:.2}),j&&!1===j.data.error?(s.setFieldValue("id",ce()),s.setFieldValue("itSkillsGroup",j.data.data.prediction.skills_groups.filter((function(e){return _.includes(e)}))),s.setFieldValue("csSkillsGroup",j.data.data.prediction.skills_groups.filter((function(e){return z.includes(e)}))),s.setFieldValue("sfSkillsGroup",j.data.data.prediction.skills_groups.filter((function(e){return A.includes(e)}))),s.setFieldValue("analysisSource",null!==(m=null!==(x=b)&&void 0!==x?x:u)&&void 0!==m?m:o),s.setFieldValue("skillType",i),t({type:"success",content:"".concat(d," analysis done.")})):"url"===i&&"NO_TEXT"===j.data.errorCode?t({type:"error",content:"URL cannot be analyzed due to missing page content!"}):t({type:"error",content:"Something went wrong!"}),e.next=39;break;case 33:if(e.prev=33,e.t1=e.catch(7),h.current){e.next=37;break}return e.abrupt("return");case 37:t({type:"loading",content:"Analyzing ".concat(d,"..."),key:"updatable",duration:.2}),t({type:"error",content:"Something went wrong!"});case 39:return e.prev=39,p(),e.finish(39);case 42:case"end":return e.stop()}}),e,null,[[7,33,39,42]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{children:[Object(E.jsx)(ue.a,{menu:{items:ye,onClick:function(e){var t;switch(e.key){case"manual":return void r();case"description":return void g("description");case"pdf":return void(null===(t=x.current)||void 0===t||t.click());case"url":return void g("url");case"pick":return void o();default:return}}},children:Object(E.jsx)(L.a,{className:"list-container-action-button",icon:Object(E.jsx)(me.a,{className:"icon-position-fix"}),children:"Add Skill"})}),Object(E.jsx)(oe,{open:"description"===m,onCancel:function(){g(null)},onDescriptionSubmit:function(e){O("description",{text:e})}}),Object(E.jsx)(xe,{open:"url"===m,onCancel:function(){g(null)},onUrlSubmit:function(e){O("url",{url:e})}}),Object(E.jsx)("input",{type:"file",accept:"application/pdf",ref:x,style:{display:"none"},onChange:function(e){var t=e.target.files[0];t&&O("pdf",{file:t}).finally((function(){e.target.value=""}))}})]})},ve=n(351),we=n(352),Ce={manual:{icon:Object(E.jsx)(de.a,{}),title:"Skill created manually",formattedSource:null},description:{icon:Object(E.jsx)(pe.a,{}),title:"Skill created through description analysis",formattedSource:"description"},pdf:{icon:Object(E.jsx)(fe.a,{}),title:"Skill created through PDF analysis",formattedSource:"PDF text"},url:{icon:Object(E.jsx)(be.a,{}),title:"Skill created through URL analysis",formattedSource:"URL"},training:{title:"Picked training",icon:Object(E.jsx)(je.a,{}),formattedSource:null}},Te=function(e){var t=e.skill;if("training"===t.skillType)return Object(E.jsx)(ie,{training:t.training});var n=Ce[t.skillType].formattedSource;return n?Object(E.jsx)(D.a,{placement:"leftBottom",arrowPointAtCenter:!0,content:Object(E.jsxs)("div",{className:"skill-analysis-info",children:[Object(E.jsx)(S.a.Title,{level:5,children:"Skill created by analyzing the following ".concat(n,": ")}),"url"===t.skillType?Object(E.jsx)(S.a.Link,{href:t.analysisSource,target:"_blank",children:t.analysisSource}):Object(E.jsx)(S.a.Text,{children:t.analysisSource})]}),children:Object(E.jsx)(L.a,{type:"text",className:"skill-analysis-info-icon",icon:Object(E.jsx)(J.a,{}),size:"small"})}):null},Ne=function(e){var t=e.skill,n=Ce[t.skillType],i=n.title,a=n.icon;return Object(E.jsx)(X.a,{title:i,children:a})},Ge=function(e){var t=e.skills,n=e.rsSkillsGroup,i=e.onSkillCheckboxChange,a=e.onSkillEdit,r=e.onSkillDelete;return Object(E.jsx)("div",{className:"skill-list",children:t.map((function(e){return Object(E.jsx)(K.a,{className:"skill-list-item".concat(e.enabled?"":" disabled"),size:"default",title:Object(E.jsxs)("div",{className:"skill-list-item-title-container",children:[Object(E.jsx)(X.a,{title:e.enabled?"Disable skill":"Enable skill",children:Object(E.jsx)(B.a,{className:"skill-list-item-checkbox",size:"large",checked:e.enabled,onChange:function(t){return i(t,e)}})}),Object(E.jsx)(Ne,{skill:e}),Object(E.jsx)(S.a.Title,{className:"skill-list-item-title",level:5,children:e.name})]}),extra:Object(E.jsxs)("div",{className:"skill-list-item-actions",children:[Object(E.jsx)(Te,{skill:e}),Object(E.jsx)(X.a,{title:"training"===e.skillType?"Picked training cannot be edited":"Edit skill",children:Object(E.jsx)(L.a,{disabled:"training"===e.skillType,className:"skill-list-item-action-edit",icon:Object(E.jsx)(ve.a,{}),size:"small",onClick:function(t){return a(t,e)}})}),Object(E.jsx)(X.a,{title:"Delete skill",children:Object(E.jsx)(L.a,{icon:Object(E.jsx)(we.a,{}),size:"small",className:"skill-list-item-action-delete",type:"default",onClick:function(t){return r(t,e)}})})]}),children:Object(E.jsx)("ul",{children:e.skillsGroup.map((function(e){return Object(E.jsx)("li",{className:"skill-list-item-skill-group-name",children:n.find((function(t){return t.id===e})).name},"skill-group".concat(e))}))})},e.id)}))})},Ie=n(627),Me=n(614),Fe=["pdf","description","url"],ze=function(e){if("object"===typeof e&&null!==e){var t=new Set;if(Array.isArray(e.skills)&&e.skills.length)return e.skills.every((function(e){return"training"===e.skillType&&"number"===typeof e.trainingId&&"boolean"===typeof e.enabled||!("string"!==typeof e.id||t.has(e.id)||!("manual"===e.skillType||Fe.includes(e.skillType)&&"string"===typeof e.analysisSource)||(t.add(e.id),"string"!==typeof e.name||"boolean"!==typeof e.enabled||!Array.isArray(e.skillsGroup)))&&e.skillsGroup.every((function(e){return"number"===typeof e}))}))}return!1},_e=function(e){var t=e.showMessage,n=e.onImportSuccess,a=Object(i.useState)(!1),r=Object(d.a)(a,2),s=r[0],l=r[1],o=Object(i.useRef)(s);Object(i.useEffect)((function(){o.current=s}),[s]);var p=function(){var e=Object(u.a)(c.a.mark((function e(i){var a,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.file,t({type:"loading",content:"Importing Skills...",key:"updatable",duration:5}),!o.current){e.next=4;break}return e.abrupt("return");case 4:if(l(!0),e.prev=5,!o.current){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,a.text();case 10:r=e.sent,s=JSON.parse(r),ze(s)?(n(s),t({type:"loading",content:"Importing Skills...",key:"updatable",duration:.2}),t({type:"success",content:"Skills import done."})):(t({type:"loading",content:"Importing Skills...",key:"updatable",duration:.2}),t({type:"error",content:"Invalid skills file format!"})),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),t({type:"loading",content:"Importing Skills...",key:"updatable",duration:.2}),t({type:"error",content:"Something went wrong!"});case 19:return e.prev=19,l(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[5,15,19,22]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)(Me.a,{accept:"application/json",maxCount:1,showUploadList:!1,customRequest:p,children:Object(E.jsx)(L.a,{className:"list-container-action-button list-container-import-action",loading:s,disabled:s,icon:Object(E.jsx)(Ie.a,{className:"icon-position-fix"}),children:"Import Skills"})})},Ae=n(628),Ee=function(e){var t=e.isExportable,n=e.getExportData,i=e.showMessage;return Object(E.jsx)(L.a,{disabled:t,onClick:function(){var e=document.createElement("a"),t=new Blob([JSON.stringify(n())],{type:"application/json"});e.href=URL.createObjectURL(t),e.download="career-path-skills.json",document.body.appendChild(e),e.click(),i({type:"success",content:"Skills export done."})},className:"list-container-action-button",icon:Object(E.jsx)(Ae.a,{className:"icon-position-fix"}),children:"Export Skills"})},Pe=S.a.Title,De=function(e){var t=e.showMessage,n=a.a.useState([]),r=Object(d.a)(n,2),s=r[0],l=r[1],c=a.a.useState(null),u=Object(d.a)(c,2),p=u[0],b=u[1],j=a.a.useState(null),m=Object(d.a)(j,2),g=m[0],h=m[1],x=a.a.useState(null),O=Object(d.a)(x,2),S=O[0],I=O[1],M=a.a.useState(null),F=Object(d.a)(M,2),z=F[0],_=F[1],A=a.a.useState(null),D=Object(d.a)(A,2),L=D[0],U=D[1],R=Object(i.useState)(null),Y=Object(d.a)(R,2),W=Y[0],B=Y[1],H=Object(i.useState)({open:!1,missingSkillsGroup:[]}),J=Object(d.a)(H,2),q=J[0],K=J[1],X=Object(i.useState)(!1),Q=Object(d.a)(X,2),Z=Q[0],$=Q[1],ee=v.a.useForm(),te=Object(d.a)(ee,1)[0];a.a.useEffect((function(){h(null),I(null),_(null),U(null),B(null),f.a.get(G.server.getData).then((function(e){e&&!1===e.data.error?(h(e.data.data.rs_skill_group),I(e.data.data.rs_specific_knowledge),_(e.data.data.rs_specific_skills),U(e.data.data.rs_profiles),B(e.data.data.trainings)):(h(0),I(0),_(0),U(0),B(0))})).catch((function(e){console.log(e),h(0),I(0),_(0),U(0),B(0)}))}),[]);var ne=a.a.useMemo((function(){return null===g&&null===S&&null===z&&null===L&&null===W?"loading":Array.isArray(g)&&Array.isArray(S)&&Array.isArray(z)&&Array.isArray(L)&&Array.isArray(W)?"ok":"error"}),[g,S,z,L,W]);return Object(E.jsx)("section",{id:"career-path-vut",children:Object(E.jsx)("div",{className:"section-container",children:Object(E.jsxs)("div",{className:"text-content",children:[Object(E.jsx)(Pe,{level:1,className:"pageTitle",children:"Career Path"}),"loading"===ne?Object(E.jsx)("div",{className:"vertCenter",children:Object(E.jsx)(w.a,{tip:"Loading...",indicator:Object(E.jsx)(y.a,{style:{fontSize:24},spin:!0})})}):"error"===ne?Object(E.jsx)(C.a,{status:"500",title:"500",subTitle:"Sorry, something went wrong."}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(T.a,{children:[Object(E.jsxs)(N.a,{span:12,className:"left-col",children:[Object(E.jsx)("div",{className:"list-container-title",children:Object(E.jsx)(Pe,{level:2,className:"col-title",children:"Your Skills"})}),Object(E.jsxs)("div",{className:"list-container-actions",children:[Object(E.jsx)(Se,{onAnalyzingStart:function(){return $(!0)},onAnalyzingEnd:function(){return $(!1)},form:te,showMessage:t,openAddForm:function(){return b("new")},onPickTrainings:function(){K({open:!0,missingSkillsGroup:[]})},analyzing:Z}),Object(E.jsxs)("div",{children:[Object(E.jsx)(_e,{showMessage:t,onImportSuccess:function(e){l((function(t){return function(e,t,n){se+=1;var i=e.reduce((function(e,i){if("number"===typeof i.trainingId){var a=ce(i.trainingId);if(-1===t.findIndex((function(e){return e.id===a}))){var r=n.find((function(e){return e.id===i.trainingId}));r&&e.push({id:a,skillType:"training",trainingId:i.trainingId,name:r.name,enabled:!0,skillsGroup:r.skills_group,training:r})}}else{var s=Object(o.a)(Object(o.a)({},i),{},{id:"imp_".concat(se,"_").concat(i.id)});e.push(s)}return e}),[]);return[].concat(Object(k.a)(t),Object(k.a)(i))}(e.skills,t,W)}))}}),Object(E.jsx)(Ee,{isExportable:!s.length,getExportData:function(){return{skills:s.map((function(e){return"training"===e.skillType?{skillType:"training",trainingId:e.trainingId,enabled:e.enabled}:e}))}},showMessage:t})]})]}),Object(E.jsx)("div",{className:"list-container",children:Object(E.jsx)(Ge,{skills:s,rsSkillsGroup:g,onSkillCheckboxChange:function(e,t){l((function(e){return e.map((function(e){return e.id===t.id?Object(o.a)(Object(o.a)({},e),{},{enabled:!e.enabled}):e}))}))},onSkillEdit:function(e,t){b(t)},onSkillDelete:function(e,t){l((function(e){return e.filter((function(e){return e!==t}))}))}})})]}),Object(E.jsxs)(N.a,{span:12,className:"right-col",children:[Object(E.jsx)("div",{className:"statistics-title",children:Object(E.jsx)(Pe,{level:2,className:"col-title",children:"Statistics"})}),Object(E.jsx)(V,{skills:s.filter((function(e){return e.enabled})),rsSkillsGroup:g,rsProfiles:L,onTrainingsSearchClick:function(e,t){K({open:!0,missingSkillsGroup:t})}})]})]}),Object(E.jsx)(P,{showMessage:t,editRecord:p,onCancel:function(){return b(null)},onModalSubmit:function(e,n){n?(e.id||(e.id=ce()),e.enabled=!0,l([].concat(Object(k.a)(s),[e]))):l(s.map((function(t){return t.id===e.id?Object(o.a)(Object(o.a)({},t),e):t}))),t({type:"success",content:"Skill saved successfully!"}),b(null)},rsSkillsGroup:g,form:te,analyzing:Z,setAnalyzing:$}),Object(E.jsx)(re,{showMessage:t,open:q.open,initialSkillsGroup:q.missingSkillsGroup,rsSkillsGroup:g,trainings:W,onClose:function(){return K({open:!1,missingSkillsGroup:[]})},onTrainingsPick:function(e){l([].concat(Object(k.a)(s),Object(k.a)(e.map((function(e){return{id:ce(e.id),skillType:"training",trainingId:e.id,name:e.name,enabled:!0,skillsGroup:e.skills_group,training:e}})))))},skills:s})]})]})})})},Le=n(97),Ue=function(){var e=a.a.useState(null),t=Object(d.a)(e,2),n=t[0],i=t[1],r=a.a.useState(localStorage.getItem("visitor_id")),s=Object(d.a)(r,2),l=s[0],o=s[1],p=a.a.useState("home"),g=Object(d.a)(p,2),O=g[0],k=(g[1],Object(x.useDeviceSelectors)(window.navigator.userAgent)),y=Object(d.a)(k,2),S=y[0],v=y[1],w=a.a.useState(!1),C=Object(d.a)(w,2),T=(C[0],C[1]),N=function(){var e=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error("Error saving visitor data:",e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return a.a.useEffect((function(){f.a.get("https://ipapi.co/json").then((function(e){var t=e.data.ip.startsWith("147.229.");T(t);var n={start_time:h()().utcOffset(1).format("YYYY-MM-DD HH:mm:ss"),user_id:"",visitor_id:l,sections:[],city:e.data.city,country:e.data.country_name,ip:e.data.ip,organization:e.data.org,os:v.os,browser:{name:v.browser.name,version:v.browser.version},device:S.isMobileOnly?"Mobile":S.isTablet?"Tablet":S.isDesktop?"Desktop":S.isSmartTV?"SmartTV":S.isWearable?"Wearable":S.isConsole?"Console":S.isEmbedded?"Embedded":"unknown"};if(!l){var a=Object(m.createHash)("sha256").update(n.ip+n.os+n.browser.name+n.device+n.start_time+Math.random()).digest("hex");localStorage.setItem("visitor_id",a),o(a),n.visitor_id=a}i({sections:[O]})})).catch((function(e){console.log(e),i(0);var t=Object(m.createHash)("sha256").update(h()().utcOffset(1).format("YYYY-MM-DD HH:mm:ss")+Math.random()).digest("hex");localStorage.setItem("visitor_id",t),o(t)}))}),[]),a.a.useEffect((function(){var e=function e(){N(n),window.removeEventListener("beforeunload",e)};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[n]),Object(E.jsx)(j.a,{className:"layout",children:Object(E.jsx)(Le.a,{className:"site-layout-content",children:Object(E.jsx)(De,{showMessage:function(e){switch(e.type){case"info":b.b.info(e);break;case"error":b.b.error(e);break;case"loading":b.b.loading(e);break;case"success":b.b.success(e);break;default:b.b.warning(e)}}})})})},Re=n(343);s.a.render(Object(E.jsx)(a.a.StrictMode,{children:Object(E.jsx)(Re.a,{children:Object(E.jsx)(Ue,{})})}),document.getElementById("root"))}},[[606,1,2]]]);
//# sourceMappingURL=main.a0345aec.chunk.js.map