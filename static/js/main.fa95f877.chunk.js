(this["webpackJsonprewire-cyberability-platform"]=this["webpackJsonprewire-cyberability-platform"]||[]).push([[0],{333:function(e,n){},381:function(e,n){},383:function(e,n){},393:function(e,n){},395:function(e,n){},422:function(e,n){},424:function(e,n){},425:function(e,n){},430:function(e,n){},432:function(e,n){},438:function(e,n){},440:function(e,n){},459:function(e,n){},471:function(e,n){},474:function(e,n){},479:function(e,n,t){},480:function(e,n,t){},597:function(e,n){},598:function(e,n){},599:function(e,n){},600:function(e,n){},601:function(e,n){},606:function(e,n,t){"use strict";t.r(n);var i=t(0),a=t.n(i),r=t(37),s=t.n(r),l=t(78),c=t.n(l),o=t(70),u=t(114),d=t(30),p=t(82),f=t.n(p),b=t(348),j=t(612),m=t(251),g=t(121),h=t.n(g),x=t(335),O="https://cyberability-platform.informacni-bezpecnost.cz/data/",k=(t(479),t(41)),y=t(69),S=t(617),v=t(616),w=t(340),C=t(620),T=t(610),N=t(611),G="career-path",I={server:{getData:O+G+"/getData.php",pdfjsWorker:O+G+"/pdf.worker.min.js",analyzeCourseDescription:O+"csprofiler/analyzeCourseDescription.php",analyzeUrl:O+G+"/analyzeUrl.php",suggestTrainings:O+G+"/suggestTrainings.php"}},M=(t(480),t(619)),F=t(347),z=t(168),_=[1,3,4,5,8,11,12,13,14,15,16,20,24,29,30],A=[6,7,10,17,18,25,27],E=[2,9,19,21,22,23,26,28,31],P=t(5),D=function(e){var n=e.form,t=e.showMessage,a=e.editRecord,r=e.onCancel,s=e.onModalSubmit,l=e.rsSkillsGroup,c=e.analyzing,o=e.setAnalyzing,u=Object(i.useState)(!1),p=Object(d.a)(u,2),f=p[0],b=p[1];return Object(i.useEffect)((function(){if("object"===typeof a&&null!==a&&n.getFieldValue("id")!==a.id){var e=JSON.parse(JSON.stringify(a));e.itSkillsGroup=e.skillsGroup.filter((function(e){return A.includes(e)})),e.csSkillsGroup=e.skillsGroup.filter((function(e){return _.includes(e)})),e.sfSkillsGroup=e.skillsGroup.filter((function(e){return E.includes(e)})),delete e.skillsGroup,delete e.enabled,n.setFieldsValue(e),b(!1)}else"new"===a&&b(!0)}),[a,n]),Object(P.jsx)(M.a,{getContainer:!1,centered:!0,open:null!==a,title:f?"Add a new skill":"Edit skill",width:850,okText:"Save",cancelText:"Cancel",onCancel:function(){c&&(t({type:"loading",content:"Analyzing Description...",key:"updatable",duration:.2}),t({type:"warning",content:"Analysis stopped."}),o(!1)),n.resetFields(),r()},className:f?"add-skill-modal":"edit-skill-modal",onOk:function(){n.validateFields().then((function(e){c?t({type:"error",content:"Please wait for the analysis to finish."}):(e.skillsGroup=e.itSkillsGroup.concat(e.csSkillsGroup,e.sfSkillsGroup),delete e.itSkillsGroup,delete e.csSkillsGroup,delete e.sfSkillsGroup,s(JSON.parse(JSON.stringify(e)),f),n.resetFields())}))},okButtonProps:{disabled:c},cancelButtonProps:{disabled:c},children:Object(P.jsxs)(v.a,{preserve:!0,form:n,layout:"horizontal",name:f?"add-skill-modal-form":"edit-skill-modal-form",labelCol:{span:7},wrapperCol:{span:15},labelWrap:!0,colon:!1,className:"content-scroll",initialValues:{name:"My Skill",skillType:"manual",itSkillsGroup:[],csSkillsGroup:[],sfSkillsGroup:[]},children:[Object(P.jsx)(v.a.Item,{name:"name",label:"Title",rules:[{required:!0,message:"Please enter the title"},{type:"string",min:2,max:1023}],children:Object(P.jsx)(F.a,{})}),Object(P.jsx)(v.a.Item,{name:"itSkillsGroup",label:"IT Skills",hidden:c,children:Object(P.jsx)(z.a,{showSearch:!0,showArrow:!0,disabled:c,allowClear:!0,mode:"multiple",optionFilterProp:"label",options:l.sort((function(e,n){return e.name>n.name?1:n.name>e.name?-1:0})).filter((function(e){return A.includes(e.id)})).map((function(e){return{value:e.id,label:e.name}}))})}),Object(P.jsx)(v.a.Item,{name:"csSkillsGroup",label:"CS Skills",hidden:c,children:Object(P.jsx)(z.a,{showSearch:!0,showArrow:!0,disabled:c,allowClear:!0,mode:"multiple",optionFilterProp:"label",options:l.sort((function(e,n){return e.name>n.name?1:n.name>e.name?-1:0})).filter((function(e){return _.includes(e.id)})).map((function(e){return{value:e.id,label:e.name}}))})}),Object(P.jsx)(v.a.Item,{name:"sfSkillsGroup",label:"Soft Skills",hidden:c,children:Object(P.jsx)(z.a,{showSearch:!0,showArrow:!0,allowClear:!0,disabled:c,mode:"multiple",optionFilterProp:"label",options:l.sort((function(e,n){return e.name>n.name?1:n.name>e.name?-1:0})).filter((function(e){return E.includes(e.id)})).map((function(e){return{value:e.id,label:e.name}}))})}),Object(P.jsx)(v.a.Item,{name:"skillType",label:"skillType",hidden:!0,children:Object(P.jsx)(F.a,{})}),Object(P.jsx)(v.a.Item,{name:"analysisSource",label:"analysisSource",hidden:!0,children:Object(P.jsx)(F.a,{})}),Object(P.jsx)(v.a.Item,{name:"id",label:"Id",hidden:!0,children:Object(P.jsx)(F.a,{})}),c&&Object(P.jsx)("div",{className:"loading-icon-container",children:Object(P.jsx)(w.a,{tip:"Analysis in progress...",indicator:Object(P.jsx)(y.a,{style:{fontSize:24},spin:!0})})})]})})},L=t(621),U=t(59),R=t(613),V=S.a.Title,Y=function(e){var n=e.skills,t=e.rsProfiles,i=e.rsSkillsGroup,a=e.onTrainingsSearchClick,r=[{title:"Profile",dataIndex:"name",key:"name"},{title:"Coverage",dataIndex:"coverage",key:"coverage",align:"right",width:"90px",render:function(e,n){return Object(P.jsx)(L.a,{placement:"leftBottom",arrowPointAtCenter:!0,content:Object(P.jsxs)("div",{className:"skills-popover",children:[Object(P.jsx)(V,{level:5,children:"Included Skills"}),Object(P.jsx)("ul",{children:n.included.length?n.included.map((function(e,n){return Object(P.jsxs)("li",{children:[e.name,Object(P.jsx)("br",{})]},n)})):Object(P.jsx)("span",{className:"empty",children:"none"})}),Object(P.jsx)(V,{level:5,children:"Missing Skills"}),Object(P.jsx)("ul",{children:n.missing.length?n.missing.map((function(e,n){return Object(P.jsxs)("li",{children:[e.name,Object(P.jsx)("br",{})]},n)})):Object(P.jsx)("span",{className:"empty",children:"none"})}),Object(P.jsx)(U.a,{onClick:function(e){return a(e,n.missing.map((function(e){return e.id})))},children:"Find Trainings"})]}),children:Object(P.jsx)("span",{children:Object(P.jsx)(U.a,{type:"link",children:(t=e,t>67?"High":t>33?"Medium":t>=0?"Low":"Error")})})});var t}}],s=function(){var e=[];return n.forEach((function(n){n.skillsGroup.forEach((function(n){e=e.concat(n)}))})),Object(k.a)(new Set(e)).sort((function(e,n){return e-n}))};return Object(P.jsx)("div",{className:"statistics",children:Object(P.jsx)("div",{className:"content",children:n.length>-1?Object(P.jsx)("div",{className:"content-scroll",children:Object(P.jsx)(R.a,{size:"small",pagination:!1,columns:r,dataSource:t.map((function(e){var n=[],t=[],a=s();return e.skills_group.forEach((function(e){a.includes(e)?n.push(i.find((function(n){return n.id===e}))):t.push(i.find((function(n){return n.id===e})))})),{coverage:parseInt((n.length/e.skills_group.length*100).toFixed(0)),name:e.name,profileId:e.id,included:n,missing:t}})),rowKey:"profileId"})}):Object(P.jsx)("div",{className:"empty-data",children:Object(P.jsx)("font",{className:"header",children:"There are no courses yet."})})})})},W=t(120),B=t(618),H=t(146),J=function(e){var n,t,i=e.form,a=e.rsSkillsGroup,r=e.onChange,s=e.initialValues,l=e.filters;return Object(P.jsxs)(v.a,{onValuesChange:function(e,n){return r(n)},size:"small",preserve:!0,form:i,layout:"horizontal",name:"trainings-filter-form",labelCol:{span:7},wrapperCol:{span:15},labelWrap:!0,colon:!1,className:"content-scroll",initialValues:s,children:[Object(P.jsx)(v.a.Item,{name:"countries",label:"Countries",children:Object(P.jsx)(z.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",options:l.countries})}),Object(P.jsx)(v.a.Item,{name:"languages",label:"Languages",children:Object(P.jsx)(z.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",options:l.languages})}),Object(P.jsx)(v.a.Item,{name:"organizers",label:"Organizers",children:Object(P.jsx)(z.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",options:l.organizers})}),Object(P.jsx)(v.a.Item,{name:"typeFormats",label:"Types/Formats",children:Object(P.jsx)(z.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",options:l.typeFormats})}),Object(P.jsx)(v.a.Item,{name:"contentTypes",label:"Content Types",children:Object(P.jsx)(z.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",options:l.contentTypes})}),Object(P.jsx)(v.a.Item,{name:"canLeadToCertifications",label:"Can lead to certifications",children:Object(P.jsx)(z.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",options:l.canLeadToCertifications})}),Object(P.jsx)(v.a.Item,{name:"includesExamsForCertifications",label:"Includes exams for certifications",children:Object(P.jsx)(z.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",options:l.includesExamsForCertifications})}),Object(P.jsx)(v.a.Item,{name:"itSkillsGroup",label:"IT Skills",children:Object(P.jsx)(z.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",optionFilterProp:"label",options:a.sort((function(e,n){return e.name>n.name?1:n.name>e.name?-1:0})).filter((function(e){return A.includes(e.id)})).map((function(e){return{value:e.id,label:e.name}}))})}),Object(P.jsx)(v.a.Item,{name:"csSkillsGroup",label:"CS Skills",children:Object(P.jsx)(z.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",optionFilterProp:"label",options:a.sort((function(e,n){return e.name>n.name?1:n.name>e.name?-1:0})).filter((function(e){return _.includes(e.id)})).map((function(e){return{value:e.id,label:e.name}}))})}),Object(P.jsx)(v.a.Item,{name:"sfSkillsGroup",label:"Soft Skills",children:Object(P.jsx)(z.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",optionFilterProp:"label",options:a.sort((function(e,n){return e.name>n.name?1:n.name>e.name?-1:0})).filter((function(e){return E.includes(e.id)})).map((function(e){return{value:e.id,label:e.name}}))})}),Object(P.jsx)(v.a.Item,{name:"trainingFocus",label:"Training Focus",children:Object(P.jsx)(z.a,{showSearch:!0,showArrow:!0,allowClear:!0,mode:"multiple",optionFilterProp:"label",options:[{value:"IT",label:"IT"},{value:"CS",label:"Cybersecurity"},{value:"Soft",label:"Soft Skills"}]})}),Object(P.jsx)(v.a.Item,{name:"price",label:"Price",children:Object(P.jsx)(B.a,{range:!0,tooltip:{formatter:function(e){return"".concat(e," \u20ac")}},marks:(n={},Object(W.a)(n,l.priceMin,{style:{left:0,right:"unset",transform:"unset"},label:"".concat(l.priceMin," \u20ac")}),Object(W.a)(n,l.priceMax,{style:{right:0,left:"unset",transform:"unset"},label:"".concat(l.priceMax," \u20ac")}),n),min:l.priceMin,max:l.priceMax})}),Object(P.jsx)(v.a.Item,{name:"duration",label:"Duration",children:Object(P.jsx)(B.a,{range:!0,tooltip:{formatter:function(e){return"".concat(e," h")}},marks:(t={},Object(W.a)(t,l.durationMin,{style:{left:0,right:"unset",transform:"unset"},label:"".concat(l.durationMin," h")}),Object(W.a)(t,l.durationMax,{style:{right:0,left:"unset",transform:"unset"},label:"".concat(l.durationMax," h")}),t),min:l.durationMin,max:l.durationMax})}),Object(P.jsx)(v.a.Item,{valuePropName:"checked",name:"showPicked",label:"Show picked trainings",children:Object(P.jsx)(H.a,{})}),Object(P.jsx)(v.a.Item,{valuePropName:"checked",name:"showOutdated",label:"Show outdated trainings",children:Object(P.jsx)(H.a,{})}),Object(P.jsx)(v.a.Item,{valuePropName:"checked",name:"disableSuggestions",label:"Disable suggestions",children:Object(P.jsx)(H.a,{})}),Object(P.jsx)(v.a.Item,{label:"Max suggestions",name:"maxSuggestions",shouldUpdate:function(e,n){return e.disableSuggestions!==n.disableSuggestions},children:Object(P.jsx)(B.a,{disabled:i.getFieldValue("disableSuggestions"),tooltip:{formatter:function(e){return"".concat(e)}},marks:{1:{style:{left:0,right:"unset",transform:"unset"},label:"".concat(1)},5:{style:{right:0,left:"unset",transform:"unset"},label:"".concat(5)}},min:1,max:5})}),Object(P.jsx)(v.a.Item,{name:"maxTrainingsPerSuggestion",label:"Max trainings per suggestion",shouldUpdate:function(e,n){return e.disableSuggestions!==n.disableSuggestions},children:Object(P.jsx)(B.a,{disabled:i.getFieldValue("disableSuggestions"),tooltip:{formatter:function(e){return"".concat(e)}},marks:{1:{style:{left:0,right:"unset",transform:"unset"},label:"".concat(1)},10:{style:{right:0,left:"unset",transform:"unset"},label:"".concat(10)}},min:1,max:10})}),Object(P.jsx)(v.a.Item,{name:"id",label:"Id",hidden:!0,children:Object(P.jsx)(F.a,{})})]})},q=t(216),K=t(609),X=t(615),Q=t(57),Z=t(622),$=t(98),ee=function(e){if("Available online"===e.timing||"On demand"===e.timing)return!1;var n=h()();return e.dates.every((function(e){return h()(e,"YYYY-MM-DD").isBefore(n,"date")}))},ne=function(e,n,t){var i=[].concat(Object(k.a)(t.itSkillsGroup),Object(k.a)(t.csSkillsGroup),Object(k.a)(t.sfSkillsGroup));return e.filter((function(e){return!(!t.showOutdated&&ee(e))&&(!(!t.showPicked&&-1!==n.findIndex((function(n){return"training"===n.skillType&&n.trainingId===e.id})))&&(!(t.countries.length&&!t.countries.includes(e.country))&&(!(t.languages.length&&!e.language.some((function(e){return t.languages.includes(e)})))&&(!(t.organizers.length&&!t.organizers.includes(e.organizer))&&(!(t.typeFormats.length&&!t.typeFormats.includes(e.type_format))&&(!(t.contentTypes.length&&!t.contentTypes.includes(e.content_type))&&(!(t.canLeadToCertifications.length&&!t.canLeadToCertifications.includes(e.can_lead_to_certification))&&(!(t.includesExamsForCertifications.length&&!t.includesExamsForCertifications.includes(e.includes_exams_for_certification))&&(!(t.trainingFocus.length&&!function(e){var n=0,t=0,i=0;e.skills_group.forEach((function(e){n+=A.includes(e)?1:0,t+=E.includes(e)?1:0,i+=_.includes(e)?1:0}));var a=[];return n>=t&&n>=i&&a.push("IT"),t>=n&&t>=i&&a.push("Soft"),i>=t&&i>=n&&a.push("CS"),a}(e).some((function(e){return t.trainingFocus.includes(e)})))&&(Number(e.price)>=t.price[0]&&Number(e.price)<=t.price[1]&&(Number(e.duration)>=t.duration[0]&&Number(e.duration)<=t.duration[1]&&!(i.length&&!e.skills_group.some((function(e){return i.includes(e)}))))))))))))))}))},te=function(e){var n=e.training,t=[{label:"Organizer",value:n.organizer},{label:"Country",value:n.country},{label:"Duration",value:n.duration+" hours"},{label:"Timing",value:n.timing},{label:"Type/Format",value:n.type_format},{label:"Price",value:n.price+" \u20ac"},{label:"Can lead to certification",value:n.can_lead_to_certification},{label:"Includes exams for certification",value:n.includes_exams_for_certification},{label:"Content type",value:n.content_type},{label:"Language",value:n.language.join(", ")},{label:"Dates",value:n.dates.join(", ")}];return Object(P.jsx)(R.a,{showHeader:!1,size:"small",pagination:!1,columns:[{title:"Label",dataIndex:"label",key:"label"},{title:"Value",dataIndex:"value"}],dataSource:t,rowKey:"label"})},ie=Object(K.a)((function(e){var n=e.filter,t=e.filteredTrainings,i=e.setSuggestedTrainings,a=e.setSuggestionsLoading,r=e.showMessage;if(t.length){var s=[].concat(Object(k.a)(n.sfSkillsGroup),Object(k.a)(n.csSkillsGroup),Object(k.a)(n.itSkillsGroup));s.length?f.a.post(I.server.suggestTrainings,{price:n.price,duration:n.duration,weight:7,selectedSkills:s,requiredNumOfResults:n.maxSuggestions,maxTrainings:n.maxTrainingsPerSuggestion,filteredTrainings:t.map((function(e){return e.id}))},{headers:{"Content-Type":"application/json"}}).then((function(e){e.data.data?i(e.data.data):(i([]),r({type:"error",content:"Something went wrong!"}))})).catch((function(e){r({type:"error",content:"Something went wrong!"})})).finally((function(){a(!1)})):(i([]),a(!1))}else i([]),a(!1)}),500),ae=function(e){var n=e.training;return Object(P.jsx)(L.a,{placement:"leftBottom",arrowPointAtCenter:!0,content:Object(P.jsxs)("div",{className:"training-additional-info",children:[Object(P.jsx)("div",{className:"training-description",children:Object(P.jsx)(S.a.Text,{children:n.description})}),Object(P.jsx)("div",{className:"training-data-content",children:Object(P.jsx)(te,{training:n})}),Object(P.jsx)("div",{className:"training-data-link",children:Object(P.jsx)(U.a,{type:"link",href:n.link,children:"Website"})})]}),children:Object(P.jsx)(U.a,{type:"text",className:"training-info-icon",icon:Object(P.jsx)(q.a,{}),size:"small"})})},re=function(e){var n=e.trainings,t=e.filter,a=e.showMessage,r=e.rsSkillsGroup,s=e.checkedTrainings,l=e.onCheckTraining,c=e.skills,o=Object(i.useState)([]),u=Object(d.a)(o,2),p=u[0],f=u[1],b=Object(i.useState)(!1),j=Object(d.a)(b,2),m=j[0],g=j[1],h=Object(i.useMemo)((function(){return ne(n,c,t)}),[n,c,t]);Object(i.useEffect)((function(){var e=t.sfSkillsGroup.length+t.csSkillsGroup.length+t.itSkillsGroup.length!==0;return t.disableSuggestions||!e?(ie.clear(),g(!1),function(){g(!1),f([])}):(g(!0),ie({filter:t,filteredTrainings:h,setSuggestedTrainings:f,showMessage:a,setSuggestionsLoading:g}),function(){g(!1),f([])})}),[t,h,a]);var x=Object(i.useMemo)((function(){var e=[].concat(Object(k.a)(t.sfSkillsGroup),Object(k.a)(t.csSkillsGroup),Object(k.a)(t.itSkillsGroup));return function(e,n){var t=new Map;return n.forEach((function(e,n){e.forEach((function(e){t.has(e)||t.set(e,n)}))})),Object(k.a)(e).sort((function(e,n){return(t.has(e.id)?t.get(e.id):1/0)-(t.has(n.id)?t.get(n.id):1/0)}))}(h,p).map((function(n){return{training:n,searchedSkillGroup:n.skills_group.filter((function(n){return e.includes(n)||0===e.length})),otherSkillGroup:n.skills_group.filter((function(n){return!e.includes(n)&&0!==e.length})),suggestedIn:p.reduce((function(e,t,i){return t.includes(n.id)&&e.push(i+1),e}),[])}}))}),[h,p,t]),O=function(e){return-1!==c.findIndex((function(n){return"training"===n.skillType&&n.trainingId===e.id}))};return Object(P.jsx)("div",{className:"trainings-list content-scroll",children:x.length?x.map((function(e){var n=e.searchedSkillGroup,i=e.otherSkillGroup,a=e.training,c=e.suggestedIn;return Object(P.jsxs)(X.a,{size:"small",title:Object(P.jsxs)("div",{className:"trainings-list-item-title-container",children:[Object(P.jsx)(Q.a,{title:s.some((function(e){return e.id===a.id}))?"Remove skill":O(a)?"Skill is already picked":"Add skill",children:Object(P.jsx)(H.a,{className:"trainings-list-item-checkbox",size:"large",checked:s.some((function(e){return e.id===a.id}))||O(a),disabled:O(a),onChange:function(){return l(a)}})}),Object(P.jsx)(S.a.Title,{level:5,children:a.name})]}),extra:Object(P.jsx)("div",{children:Object(P.jsx)(ae,{training:a})}),children:[Object(P.jsxs)("ul",{children:[n.map((function(e){return Object(P.jsx)("li",{children:r.find((function(n){return n.id===e})).name},"searched-skill-group".concat(e))})),i.map((function(e){return Object(P.jsx)("li",{className:"other-skill-group",children:r.find((function(n){return n.id===e})).name},"other-skill-group".concat(e))}))]}),t.showOutdated&&ee(a)&&Object(P.jsx)(Z.a,{color:"orange",children:"Outdated"}),c.map((function(e){var n="cyan";return 2===e&&(n="blue"),3===e&&(n="geekblue"),4===e&&(n="magenta"),5===e&&(n="purple"),Object(P.jsx)(Z.a,{color:n,children:"Suggestion ".concat(e)},e)})),m&&Object(P.jsx)(w.a,{size:"small"})]},a.id)})):Object(P.jsx)($.a,{description:"No trainings found"})})},se=function(e){var n=e.rsSkillsGroup,t=e.trainings,a=e.open,r=e.initialSkillsGroup,s=void 0===r?[]:r,l=e.onClose,c=e.showMessage,u=e.onTrainingsPick,p=e.skills,f=Object(i.useMemo)((function(){return function(e){var n=e.reduce((function(e,n){e.countries.includes(n.country)||e.countries.push(n.country),n.language.forEach((function(n){e.languages.includes(n)||e.languages.push(n)})),e.typeFormats.includes(n.type_format)||e.typeFormats.push(n.type_format),e.organizers.includes(n.organizer)||e.organizers.push(n.organizer),e.canLeadToCertifications.includes(n.can_lead_to_certification)||e.canLeadToCertifications.push(n.can_lead_to_certification),e.includesExamsForCertifications.includes(n.includes_exams_for_certification)||e.includesExamsForCertifications.push(n.includes_exams_for_certification),e.contentTypes.includes(n.content_type)||e.contentTypes.push(n.content_type);var t=Number(n.duration);(null===e.durationMin||e.durationMin>t)&&(e.durationMin=t),(null===e.durationMax||e.durationMax<t)&&(e.durationMax=t);var i=Number(n.price);return(null===e.priceMin||e.priceMin>i)&&(e.priceMin=i),(null===e.priceMax||e.priceMax<i)&&(e.priceMax=i),e}),{countries:[],languages:[],typeFormats:[],organizers:[],canLeadToCertifications:[],includesExamsForCertifications:[],contentTypes:[],durationMin:null,durationMax:null,priceMax:null,priceMin:null}),t=function(e){return{value:e,label:e||"Unknown"}},i=function(e,n){return e.label.localeCompare(n.label)};return n.countries=n.countries.map(t).sort(i),n.languages=n.languages.map(t).sort(i),n.typeFormats=n.typeFormats.map(t).sort(i),n.organizers=n.organizers.map(t).sort(i),n.canLeadToCertifications=n.canLeadToCertifications.map(t).sort(i),n.includesExamsForCertifications=n.includesExamsForCertifications.map(t).sort(i),n.contentTypes=n.contentTypes.map(t).sort(i),n}(t)}),[t]),b=Object(i.useState)((function(){return{countries:[],languages:[],typeFormats:[],organizers:[],canLeadToCertifications:[],includesExamsForCertifications:[],contentTypes:[],duration:[f.durationMin,f.durationMax],price:[f.priceMin,f.priceMax],itSkillsGroup:(null!==s&&void 0!==s?s:[]).filter((function(e){return A.includes(e)})),csSkillsGroup:(null!==s&&void 0!==s?s:[]).filter((function(e){return _.includes(e)})),sfSkillsGroup:(null!==s&&void 0!==s?s:[]).filter((function(e){return E.includes(e)})),showOutdated:!1,showPicked:!1,trainingFocus:[],disableSuggestions:!1,maxSuggestions:1,maxTrainingsPerSuggestion:6}})),j=Object(d.a)(b,2),m=j[0],g=j[1],h=v.a.useForm(),x=Object(d.a)(h,1)[0],O=Object(i.useState)([]),y=Object(d.a)(O,2),S=y[0],w=y[1];return Object(i.useEffect)((function(){if("number"===typeof(null===s||void 0===s?void 0:s.length)){var e={itSkillsGroup:s.filter((function(e){return A.includes(e)})),csSkillsGroup:s.filter((function(e){return _.includes(e)})),sfSkillsGroup:s.filter((function(e){return E.includes(e)}))};g((function(n){return Object(o.a)(Object(o.a)({},n),e)})),x.setFieldsValue(e)}w([])}),[s,x]),Object(P.jsx)(M.a,{getContainer:!1,centered:!0,open:a,title:"Trainings Browser",width:950,cancelText:"Close",okButtonProps:{disabled:0===S.length},className:"trainings-browser-modal",onCancel:function(){x.resetFields(),w([]),l()},okText:"Pick",onOk:function(){u&&u(S),w([]),l()},children:Object(P.jsxs)("div",{className:"trainings-browser",children:[Object(P.jsx)("div",{className:"trainings-browser-filter",children:Object(P.jsx)(J,{form:x,rsSkillsGroup:n,onChange:g,filters:f,initialValues:m})}),Object(P.jsx)("div",{className:"trainings-browser-list",children:Object(P.jsx)(re,{skills:p,onCheckTraining:function(e){return w((function(n){return-1!==n.findIndex((function(n){return n.id===e.id}))?n.filter((function(n){return n.id!==e.id})):[].concat(Object(k.a)(n),[e])}))},checkedTrainings:S,showMessage:c,filter:m,form:x,rsSkillsGroup:n,trainings:t})})]})})},le=0,ce=0,oe=function(e){return"number"===typeof e?"tr_".concat(e):"sk_".concat(ce+=1)},ue=function(e){var n=e.open,t=e.onCancel,i=e.onDescriptionSubmit,a=v.a.useForm(),r=Object(d.a)(a,1)[0];return Object(P.jsx)(M.a,{getContainer:!1,centered:!0,open:n,title:"Analyze Description",width:850,okText:"Analyze",cancelText:"Cancel",onCancel:function(){r.resetFields(),t()},onOk:function(){r.validateFields().then((function(e){i(e.description),r.resetFields()})).catch((function(){}))},children:Object(P.jsx)(v.a,{preserve:!0,form:r,layout:"horizontal",wrapperCol:{span:24},labelWrap:!0,colon:!1,className:"content-scroll",children:Object(P.jsx)(v.a.Item,{name:"description",rules:[{required:!0,message:"Please enter the description"},{type:"string",min:4}],children:Object(P.jsx)(F.a.TextArea,{placeholder:"Enter Skill description here",rows:6})})})})},de=t(212),pe=t(623),fe=t(624),be=t(625),je=t(626),me=t(144),ge=t(350),he=t(254),xe=function(e){return e?e.startsWith("http")?e:"https://".concat(e.replace(/^https?:\/\//,"")):e},Oe=function(e){var n=e.open,t=e.onCancel,i=e.onUrlSubmit,a=v.a.useForm(),r=Object(d.a)(a,1)[0];return Object(P.jsx)(M.a,{getContainer:!1,centered:!0,open:n,title:"Analyze URL",width:850,okText:"Analyze",cancelText:"Cancel",onCancel:function(){r.resetFields(),t()},onOk:function(){r.validateFields().then((function(e){i(xe(e.url)),r.resetFields()}))},children:Object(P.jsx)(v.a,{preserve:!0,form:r,layout:"horizontal",wrapperCol:{span:24},labelWrap:!0,colon:!1,className:"content-scroll",children:Object(P.jsx)(v.a.Item,{name:"url",rules:[{required:!0,message:"Please enter the URL"},{validator:function(e,n){return!n||function(e){try{var n=new URL(xe(e));return"https:"===n.protocol&&"https:"===n.protocol&&n.hostname.includes(".")}catch(t){return!1}}(n)?Promise.resolve():Promise.reject(new Error("Please enter a valid URL"))}}],children:Object(P.jsx)(F.a,{placeholder:"Enter URL here"})})})})};function ke(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(u.a)(c.a.mark((function e(n){var t,i,a,r,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.arrayBuffer();case 2:return t=e.sent,e.next=5,he.getDocument({data:t}).promise;case 5:i=e.sent,a="",r=1;case 8:if(!(r<=i.numPages)){e.next=19;break}return e.next=11,i.getPage(r);case 11:return s=e.sent,e.next=14,s.getTextContent();case 14:l=e.sent,a+=l.items.map((function(e){return e.str})).join(" ");case 16:r++,e.next=8;break;case 19:return e.abrupt("return",a);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}he.GlobalWorkerOptions.workerSrc=I.server.pdfjsWorker;var Se=[{icon:Object(P.jsx)(pe.a,{}),key:"manual",label:"Create Manually"},{icon:Object(P.jsx)(fe.a,{}),key:"description",label:"Analyze Description"},{icon:Object(P.jsx)(be.a,{}),key:"pdf",label:"Analyze PDF"},{icon:Object(P.jsx)(je.a,{}),key:"url",label:"Analyze URL"},{icon:Object(P.jsx)(me.a,{}),key:"pick",label:"Pick Trainings"}],ve=function(e){var n=e.showMessage,t=e.onAnalyzingStart,r=e.openAddForm,s=e.form,l=e.analyzing,o=e.onPickTrainings,p=e.onAnalyzingEnd,b=Object(i.useState)(null),j=Object(d.a)(b,2),m=j[0],g=j[1],h=a.a.useRef(l),x=Object(i.useRef)(null);a.a.useEffect((function(){h.current=l}),[l]);var O=function(){var e=Object(u.a)(c.a.mark((function e(i,a){var l,o,u,d,b,j,m,x;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=a.file,o=a.text,u=a.url,n({type:"loading",content:"Analyzing ".concat(d="pdf"===i?"PDF file":"url"===i?"URL":"description"===i?"Description":"Unknown Type","..."),key:"updatable",duration:5}),t(),g(null),r(),s.setFieldValue("name","My Skill (".concat(d," Analysis)")),e.prev=7,e.t0=i,e.next="pdf"===e.t0?11:"description"===e.t0?18:"url"===e.t0?22:26;break;case 11:return e.next=13,ke(l);case 13:return b=e.sent,e.next=16,f.a.post(I.server.analyzeCourseDescription,{description:b},{headers:{"Content-Type":"application/json"}});case 16:return j=e.sent,e.abrupt("break",27);case 18:return e.next=20,f.a.post(I.server.analyzeCourseDescription,{description:o},{headers:{"Content-Type":"application/json"}});case 20:return j=e.sent,e.abrupt("break",27);case 22:return e.next=24,f.a.post(I.server.analyzeUrl,{url:u},{headers:{"Content-Type":"application/json"}});case 24:return j=e.sent,e.abrupt("break",27);case 26:j={data:{error:!0}};case 27:if(h.current){e.next=29;break}return e.abrupt("return");case 29:n({type:"loading",content:"Analyzing ".concat(d,"..."),key:"updatable",duration:.2}),j&&!1===j.data.error?(s.setFieldValue("id",oe()),s.setFieldValue("itSkillsGroup",j.data.data.prediction.skills_groups.filter((function(e){return A.includes(e)}))),s.setFieldValue("csSkillsGroup",j.data.data.prediction.skills_groups.filter((function(e){return _.includes(e)}))),s.setFieldValue("sfSkillsGroup",j.data.data.prediction.skills_groups.filter((function(e){return E.includes(e)}))),s.setFieldValue("analysisSource",null!==(m=null!==(x=b)&&void 0!==x?x:u)&&void 0!==m?m:o),s.setFieldValue("skillType",i),n({type:"success",content:"".concat(d," analysis done.")})):"url"===i&&"NO_TEXT"===j.data.errorCode?n({type:"error",content:"URL cannot be analyzed due to missing page content!"}):n({type:"error",content:"Something went wrong!"}),e.next=39;break;case 33:if(e.prev=33,e.t1=e.catch(7),h.current){e.next=37;break}return e.abrupt("return");case 37:n({type:"loading",content:"Analyzing ".concat(d,"..."),key:"updatable",duration:.2}),n({type:"error",content:"Something went wrong!"});case 39:return e.prev=39,p(),e.finish(39);case 42:case"end":return e.stop()}}),e,null,[[7,33,39,42]])})));return function(n,t){return e.apply(this,arguments)}}();return Object(P.jsxs)("div",{children:[Object(P.jsx)(de.a,{menu:{items:Se,onClick:function(e){var n;switch(e.key){case"manual":return void r();case"description":return void g("description");case"pdf":return void(null===(n=x.current)||void 0===n||n.click());case"url":return void g("url");case"pick":return void o();default:return}}},children:Object(P.jsx)(U.a,{className:"list-container-action-button",icon:Object(P.jsx)(ge.a,{className:"icon-position-fix"}),children:"Add Skill"})}),Object(P.jsx)(ue,{open:"description"===m,onCancel:function(){g(null)},onDescriptionSubmit:function(e){O("description",{text:e})}}),Object(P.jsx)(Oe,{open:"url"===m,onCancel:function(){g(null)},onUrlSubmit:function(e){O("url",{url:e})}}),Object(P.jsx)("input",{type:"file",accept:"application/pdf",ref:x,style:{display:"none"},onChange:function(e){var n=e.target.files[0];n&&O("pdf",{file:n}).finally((function(){e.target.value=""}))}})]})},we=t(351),Ce=t(352),Te={manual:{icon:Object(P.jsx)(pe.a,{}),title:"Skill created manually",formattedSource:null},description:{icon:Object(P.jsx)(fe.a,{}),title:"Skill created through description analysis",formattedSource:"description"},pdf:{icon:Object(P.jsx)(be.a,{}),title:"Skill created through PDF analysis",formattedSource:"PDF text"},url:{icon:Object(P.jsx)(je.a,{}),title:"Skill created through URL analysis",formattedSource:"URL"},training:{title:"Picked training",icon:Object(P.jsx)(me.a,{}),formattedSource:null}},Ne=function(e){var n=e.skill;if("training"===n.skillType)return Object(P.jsx)(ae,{training:n.training});var t=Te[n.skillType].formattedSource;return t?Object(P.jsx)(L.a,{placement:"leftBottom",arrowPointAtCenter:!0,content:Object(P.jsxs)("div",{className:"skill-analysis-info",children:[Object(P.jsx)(S.a.Title,{level:5,children:"Skill created by analyzing the following ".concat(t,": ")}),"url"===n.skillType?Object(P.jsx)(S.a.Link,{href:n.analysisSource,target:"_blank",children:n.analysisSource}):Object(P.jsx)(S.a.Text,{children:n.analysisSource})]}),children:Object(P.jsx)(U.a,{type:"text",className:"skill-analysis-info-icon",icon:Object(P.jsx)(q.a,{}),size:"small"})}):null},Ge=function(e){var n=e.skill,t=Te[n.skillType],i=t.title,a=t.icon;return Object(P.jsx)(Q.a,{title:i,children:a})},Ie=function(e){var n=e.skills,t=e.rsSkillsGroup,i=e.onSkillCheckboxChange,a=e.onSkillEdit,r=e.onSkillDelete;return Object(P.jsx)("div",{className:"skill-list",children:n.map((function(e){return Object(P.jsx)(X.a,{className:"skill-list-item".concat(e.enabled?"":" disabled"),size:"default",title:Object(P.jsxs)("div",{className:"skill-list-item-title-container",children:[Object(P.jsx)(Q.a,{title:e.enabled?"Disable skill":"Enable skill",children:Object(P.jsx)(H.a,{className:"skill-list-item-checkbox",size:"large",checked:e.enabled,onChange:function(n){return i(n,e)}})}),Object(P.jsx)(Ge,{skill:e}),Object(P.jsx)(S.a.Title,{className:"skill-list-item-title",level:5,children:e.name})]}),extra:Object(P.jsxs)("div",{className:"skill-list-item-actions",children:[Object(P.jsx)(Ne,{skill:e}),Object(P.jsx)(Q.a,{title:"training"===e.skillType?"Picked training cannot be edited":"Edit skill",children:Object(P.jsx)(U.a,{disabled:"training"===e.skillType,className:"skill-list-item-action-edit",icon:Object(P.jsx)(we.a,{}),size:"small",onClick:function(n){return a(n,e)}})}),Object(P.jsx)(Q.a,{title:"Delete skill",children:Object(P.jsx)(U.a,{icon:Object(P.jsx)(Ce.a,{}),size:"small",className:"skill-list-item-action-delete",type:"default",onClick:function(n){return r(n,e)}})})]}),children:Object(P.jsx)("ul",{children:e.skillsGroup.map((function(e){return Object(P.jsx)("li",{className:"skill-list-item-skill-group-name",children:t.find((function(n){return n.id===e})).name},"skill-group".concat(e))}))})},e.id)}))})},Me=t(627),Fe=t(614),ze=["pdf","description","url"],_e=function(e){if("object"===typeof e&&null!==e){var n=new Set;if(Array.isArray(e.skills)&&e.skills.length)return e.skills.every((function(e){return"training"===e.skillType&&"number"===typeof e.trainingId&&"boolean"===typeof e.enabled||!("string"!==typeof e.id||n.has(e.id)||!("manual"===e.skillType||ze.includes(e.skillType)&&"string"===typeof e.analysisSource)||(n.add(e.id),"string"!==typeof e.name||"boolean"!==typeof e.enabled||!Array.isArray(e.skillsGroup)))&&e.skillsGroup.every((function(e){return"number"===typeof e}))}))}return!1},Ae=function(e){var n=e.showMessage,t=e.onImportSuccess,a=Object(i.useState)(!1),r=Object(d.a)(a,2),s=r[0],l=r[1],o=Object(i.useRef)(s);Object(i.useEffect)((function(){o.current=s}),[s]);var p=function(){var e=Object(u.a)(c.a.mark((function e(i){var a,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.file,n({type:"loading",content:"Importing Skills...",key:"updatable",duration:5}),!o.current){e.next=4;break}return e.abrupt("return");case 4:if(l(!0),e.prev=5,!o.current){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,a.text();case 10:r=e.sent,s=JSON.parse(r),_e(s)?(t(s),n({type:"loading",content:"Importing Skills...",key:"updatable",duration:.2}),n({type:"success",content:"Skills import done."})):(n({type:"loading",content:"Importing Skills...",key:"updatable",duration:.2}),n({type:"error",content:"Invalid skills file format!"})),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),n({type:"loading",content:"Importing Skills...",key:"updatable",duration:.2}),n({type:"error",content:"Something went wrong!"});case 19:return e.prev=19,l(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[5,15,19,22]])})));return function(n){return e.apply(this,arguments)}}();return Object(P.jsx)(Fe.a,{accept:"application/json",maxCount:1,showUploadList:!1,customRequest:p,children:Object(P.jsx)(U.a,{className:"list-container-action-button list-container-import-action",loading:s,disabled:s,icon:Object(P.jsx)(Me.a,{className:"icon-position-fix"}),children:"Import Skills"})})},Ee=t(628),Pe=function(e){var n=e.isExportable,t=e.getExportData,i=e.showMessage;return Object(P.jsx)(U.a,{disabled:n,onClick:function(){var e=document.createElement("a"),n=new Blob([JSON.stringify(t())],{type:"application/json"});e.href=URL.createObjectURL(n),e.download="career-path-skills.json",document.body.appendChild(e),e.click(),i({type:"success",content:"Skills export done."})},className:"list-container-action-button",icon:Object(P.jsx)(Ee.a,{className:"icon-position-fix"}),children:"Export Skills"})},De=S.a.Title,Le=function(e){var n=e.showMessage,t=a.a.useState([]),r=Object(d.a)(t,2),s=r[0],l=r[1],c=a.a.useState(null),u=Object(d.a)(c,2),p=u[0],b=u[1],j=a.a.useState(null),m=Object(d.a)(j,2),g=m[0],h=m[1],x=a.a.useState(null),O=Object(d.a)(x,2),S=O[0],G=O[1],M=a.a.useState(null),F=Object(d.a)(M,2),z=F[0],_=F[1],A=a.a.useState(null),E=Object(d.a)(A,2),L=E[0],U=E[1],R=Object(i.useState)(null),V=Object(d.a)(R,2),W=V[0],B=V[1],H=Object(i.useState)({open:!1,missingSkillsGroup:[]}),J=Object(d.a)(H,2),q=J[0],K=J[1],X=Object(i.useState)(!1),Q=Object(d.a)(X,2),Z=Q[0],$=Q[1],ee=v.a.useForm(),ne=Object(d.a)(ee,1)[0];a.a.useEffect((function(){h(null),G(null),_(null),U(null),B(null),f.a.get(I.server.getData).then((function(e){e&&!1===e.data.error?(h(e.data.data.rs_skill_group),G(e.data.data.rs_specific_knowledge),_(e.data.data.rs_specific_skills),U(e.data.data.rs_profiles),B(e.data.data.trainings)):(h(0),G(0),_(0),U(0),B(0))})).catch((function(e){console.log(e),h(0),G(0),_(0),U(0),B(0)}))}),[]);var te=a.a.useMemo((function(){return null===g&&null===S&&null===z&&null===L&&null===W?"loading":Array.isArray(g)&&Array.isArray(S)&&Array.isArray(z)&&Array.isArray(L)&&Array.isArray(W)?"ok":"error"}),[g,S,z,L,W]);return Object(P.jsx)("section",{id:"career-path-vut",children:Object(P.jsx)("div",{className:"section-container",children:Object(P.jsxs)("div",{className:"text-content",children:[Object(P.jsx)(De,{level:1,className:"pageTitle",children:"Career Path"}),"loading"===te?Object(P.jsx)("div",{className:"vertCenter",children:Object(P.jsx)(w.a,{tip:"Loading...",indicator:Object(P.jsx)(y.a,{style:{fontSize:24},spin:!0})})}):"error"===te?Object(P.jsx)(C.a,{status:"500",title:"500",subTitle:"Sorry, something went wrong."}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(T.a,{children:[Object(P.jsxs)(N.a,{span:12,className:"left-col",children:[Object(P.jsx)("div",{className:"list-container-title",children:Object(P.jsx)(De,{level:2,className:"col-title",children:"Your Skills"})}),Object(P.jsxs)("div",{className:"list-container-actions",children:[Object(P.jsx)(ve,{onAnalyzingStart:function(){return $(!0)},onAnalyzingEnd:function(){return $(!1)},form:ne,showMessage:n,openAddForm:function(){return b("new")},onPickTrainings:function(){K({open:!0,missingSkillsGroup:[]})},analyzing:Z}),Object(P.jsxs)("div",{children:[Object(P.jsx)(Ae,{showMessage:n,onImportSuccess:function(e){l((function(n){return function(e,n,t){le+=1;var i=e.reduce((function(e,i){if("number"===typeof i.trainingId){var a=oe(i.trainingId);if(-1===n.findIndex((function(e){return e.id===a}))){var r=t.find((function(e){return e.id===i.trainingId}));r&&e.push({id:a,skillType:"training",trainingId:i.trainingId,name:r.name,enabled:!0,skillsGroup:r.skills_group,training:r})}}else{var s=Object(o.a)(Object(o.a)({},i),{},{id:"imp_".concat(le,"_").concat(i.id)});e.push(s)}return e}),[]);return[].concat(Object(k.a)(n),Object(k.a)(i))}(e.skills,n,W)}))}}),Object(P.jsx)(Pe,{isExportable:!s.length,getExportData:function(){return{skills:s.map((function(e){return"training"===e.skillType?{skillType:"training",trainingId:e.trainingId,enabled:e.enabled}:e}))}},showMessage:n})]})]}),Object(P.jsx)("div",{className:"list-container",children:Object(P.jsx)(Ie,{skills:s,rsSkillsGroup:g,onSkillCheckboxChange:function(e,n){l((function(e){return e.map((function(e){return e.id===n.id?Object(o.a)(Object(o.a)({},e),{},{enabled:!e.enabled}):e}))}))},onSkillEdit:function(e,n){b(n)},onSkillDelete:function(e,n){l((function(e){return e.filter((function(e){return e!==n}))}))}})})]}),Object(P.jsxs)(N.a,{span:12,className:"right-col",children:[Object(P.jsx)("div",{className:"statistics-title",children:Object(P.jsx)(De,{level:2,className:"col-title",children:"Statistics"})}),Object(P.jsx)(Y,{skills:s.filter((function(e){return e.enabled})),rsSkillsGroup:g,rsProfiles:L,onTrainingsSearchClick:function(e,n){K({open:!0,missingSkillsGroup:n})}})]})]}),Object(P.jsx)(D,{showMessage:n,editRecord:p,onCancel:function(){return b(null)},onModalSubmit:function(e,t){t?(e.id||(e.id=oe()),e.enabled=!0,l([].concat(Object(k.a)(s),[e]))):l(s.map((function(n){return n.id===e.id?Object(o.a)(Object(o.a)({},n),e):n}))),n({type:"success",content:"Skill saved successfully!"}),b(null)},rsSkillsGroup:g,form:ne,analyzing:Z,setAnalyzing:$}),Object(P.jsx)(se,{showMessage:n,open:q.open,initialSkillsGroup:q.missingSkillsGroup,rsSkillsGroup:g,trainings:W,onClose:function(){return K({open:!1,missingSkillsGroup:[]})},onTrainingsPick:function(e){l([].concat(Object(k.a)(s),Object(k.a)(e.map((function(e){return{id:oe(e.id),skillType:"training",trainingId:e.id,name:e.name,enabled:!0,skillsGroup:e.skills_group,training:e}})))))},skills:s})]})]})})})},Ue=t(97),Re=function(){var e=a.a.useState(null),n=Object(d.a)(e,2),t=n[0],i=n[1],r=a.a.useState(localStorage.getItem("visitor_id")),s=Object(d.a)(r,2),l=s[0],o=s[1],p=a.a.useState("home"),g=Object(d.a)(p,2),O=g[0],k=(g[1],Object(x.useDeviceSelectors)(window.navigator.userAgent)),y=Object(d.a)(k,2),S=y[0],v=y[1],w=a.a.useState(!1),C=Object(d.a)(w,2),T=(C[0],C[1]),N=function(){var e=Object(u.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error("Error saving visitor data:",e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n){return e.apply(this,arguments)}}();return a.a.useEffect((function(){f.a.get("https://ipapi.co/json").then((function(e){var n=e.data.ip.startsWith("147.229.");T(n);var t={start_time:h()().utcOffset(1).format("YYYY-MM-DD HH:mm:ss"),user_id:"",visitor_id:l,sections:[],city:e.data.city,country:e.data.country_name,ip:e.data.ip,organization:e.data.org,os:v.os,browser:{name:v.browser.name,version:v.browser.version},device:S.isMobileOnly?"Mobile":S.isTablet?"Tablet":S.isDesktop?"Desktop":S.isSmartTV?"SmartTV":S.isWearable?"Wearable":S.isConsole?"Console":S.isEmbedded?"Embedded":"unknown"};if(!l){var a=Object(m.createHash)("sha256").update(t.ip+t.os+t.browser.name+t.device+t.start_time+Math.random()).digest("hex");localStorage.setItem("visitor_id",a),o(a),t.visitor_id=a}i({sections:[O]})})).catch((function(e){console.log(e),i(0);var n=Object(m.createHash)("sha256").update(h()().utcOffset(1).format("YYYY-MM-DD HH:mm:ss")+Math.random()).digest("hex");localStorage.setItem("visitor_id",n),o(n)}))}),[]),a.a.useEffect((function(){var e=function e(){N(t),window.removeEventListener("beforeunload",e)};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[t]),Object(P.jsx)(j.a,{className:"layout",children:Object(P.jsx)(Ue.a,{className:"site-layout-content",children:Object(P.jsx)(Le,{showMessage:function(e){switch(e.type){case"info":b.b.info(e);break;case"error":b.b.error(e);break;case"loading":b.b.loading(e);break;case"success":b.b.success(e);break;default:b.b.warning(e)}}})})})},Ve=t(343);s.a.render(Object(P.jsx)(a.a.StrictMode,{children:Object(P.jsx)(Ve.a,{children:Object(P.jsx)(Re,{})})}),document.getElementById("root"))}},[[606,1,2]]]);
//# sourceMappingURL=main.fa95f877.chunk.js.map